= To Create a Server

**This Topic Needs to Be Rewritten**
**



== Creating a Server

. Ensure that you have installed supported versions of the Mule runtime and Runtime Manager Agent.
. From Anypoint Platform, click Runtime Manager, then select the Servers tab.
. If you have previously created a server in your runtime environment, click Add Server.


. Obtain the Server Registration Token
+
To run the `amc_setup` command that registers your server with the Runtime Manager Agent, you must obtain a unique Token code for your particular instance of Runtime Manager and environment.

.. Go to the *Servers* tab in Runtime Manager.
.. If the environment already contains servers, click *Add Server*. 
+
.. If you have not added any servers to the environment yet, you will see the sample displayed right away in this tab.
+
image:empty_servers-add_server_1st_srv-CORR.COMM-REAL-2.png[empty_servers-add_server_1st_srv-CORR.COMM-REAL-2]

.. Copy the full sample code that includes your unique token for your Runtime Manager account + environment.
+
When you do this, you will see this same code that includes the token in it.

. Run the amc_setup command.
+
The `amc_setup` command contains information that is unique to your organization. Running this command enables the Mule server to communicate with Runtime Manager. The key included in the `-H` parameter (partly redacted in the image above) is a token generated specifically for your Mule server or API Gateway to authenticate against Runtime Manager.

.. In Runtime Manager, click *Copy* to copy the displayed command to your clipboard.
.. Open a terminal in the server where your Mule server or API Gateway resides.
.. Go to the `bin` directory inside the Mule server or API Gateway root directory.
.. Paste the command into your terminal.
.. Substitute the last parameter, `server-name`, with the name you want for your server. In the example below, the name is `srv1`.
+
[source,java, linenums]
----
./amc_setup -H 17958da2-[redacted]---1942 srv1
----
+
[TIP]
If running Windows, substitute `amc_setup.bat` for `./amc_setup` (withoutÂ `./`).
+
.. Press Enter to run the command.
. Check that the command output on your terminal states that the credentials were extracted correctly
. In the *Servers* screen of Runtime Manager, you should see that your server (named `srv1` in this example) is listed as *Created*:
+
image:srv1_created.png[srv1_created]

[TIP]
If the server was running when registered, it needs to be restarted for it to start communicating with Runtime Manager.

== See Also

* To Shutdown, Restart and Delete a Server
* link:/runtime-manager/runtime-manager-agent[Runtime Manager Agent]
* link:/runtime-manager/installing-and-configuring-mule-agent[Installing and Configuring Runtime Manager Agent]