= Managing Gateways
:keywords: data gateway, salesforce, sap, oracle

== Logging In

After you have link:/docs/display/current/Installing+Anypoint+Data+Gateway[installed] Data Gateway, go to the *MuleSoft* tab to access Anypoint Data Gateway Designer.

image:/docs/download/thumbnails/132809605/MS_tab-1.2.png?version=1&modificationDate=1438102661261[image]

== User Roles and Permissions

Data Gateway is part of the Anypoint Platform; it supports business groups and environments defined in Anypoint Platform profiles. The permissions to use and manage Data Gateway are inherited from the permissions stored in Anypoint Platform relative to business groups and environments.

This means that an instance of Data Gateway can be used and managed by any user that belongs to the same business group and environment as the user who created the instance of Data Gateway.

Data Gateway Designer allows you to switch between environments (such as Production, Development, etc.; see item 3 in the table link:#ManagingGateways-image[below]). These environments are configured and reside in the Anypoint Platform; a user's roles and permissions in Data Gateway match the user's roles and permissions in Anypoint Plaftorm.

The table below lists role mappings between Anypoint Platform and Data Gateway.

[width="100%",cols="34%,33%,33%",options="header",]
|===
|Anypoint |Data Gateway |Permissions in Data Gateway
|Organization Owner |Data Gateway Admin |All (no restrictions)
|CloudHub Admin (Environment) + Organization Administrator |Data Gateway Admin |All (no restrictions)
|CloudHub Support (Environment) |Data Gateway Viewer a|
* View gateways
* View connections
* Publish to Salesforce
* View notifications
* Contact Mulesoft

User cannot create or edit gateways or connections
|===

== Overview of Anypoint Data Gateway Designer

When you login to Anypoint Data Gateway from your Salesforce account, you are taken to the Anypoint Data Gateway Designer screen. Here you can perform actions such as:

* View, add or modify gateways
* Configure connections and VPC
* View gateway logs

The image below shows the screen with two existing gateways. See the numbers below the image for reference.

image:/docs/download/attachments/132809605/gateway_list_numbered-1.2.png?version=2&modificationDate=1437404520051[image]

[cols="2a*", options="header"]
|===
|No. |Description
|1 |List of gateways, in this case showing three gateways: `MyGateway`, `Test4` and `TestGateway`.
|2 a|
Left-hand menu pane, which allows you to:

* View and edit gateways (via the screen shown above)
* Create or configure connections
* View or delete Cloud Extender connections
* Contact MuleSoft to send requests or feedback
* Access online documentation
* Configure your VPC

|3 |Environment selector drop-down menu. Allows you to select which environment to work on (such as Production, Development, etc.), from the environments configured in Anypoint Platform. (For details on environments, user roles and permissions, see link:#ManagingGateways-users[above].)
|4 |*Create Gateway* button. Click to create a new gateway (for details, see link:/docs/display/current/Creating+and+Configuring+a+Gateway[Creating and Configuring a Gateway]).
|5 |Search gateways input box. Type a string to see only gateways whose name contains that string.
|6 |Organization configuration button. Click to configure your organization from within Anypoint Platform. You may be required to log in.
|7 |Organization/suborganization drop-down menu. Click to select between your available organizations and suborganizations. Selecting one allows you to access Gateway Designer specifically for that org or suborg.

image:/docs/download/thumbnails/132809605/suborg_menu-1.2.png?version=1&modificationDate=1437406013669[image]

|8 |Data Gateway menu. Allows you to view and edit your Anypoint Platform profile, or to sign out of Data Gateway.
|9 a|
link:#ManagingGateways-notifications[Notifications] indicator. Click to see recent notifications, and optionally perform tasks related to them, as shown below.

image:/docs/download/attachments/132809605/notifications-1.2.png?version=1&modificationDate=1437406280500[image]

|10 |Gateway status indicator. All the gateways shown here are *Stopped*, symbolized by an empty circle. A green circle means *Started*.
|11 |Gateway *Edit* menu. Click to edit or discard a gateway.
|===

== Left-Hand Menu

The left-hand menu (item 2 in the image link:#ManagingGateways-image[above]) allows you to perform several tasks, detailed in this section.

=== Gateways

Displays the screen shown link:#ManagingGateways-image[above], which allows you to create/edit or operate on gateways.

=== Connections

Allows you to create new connections, or edit existing connections.

image:/docs/download/attachments/132809605/connections-1.2.png?version=1&modificationDate=1437408474217[image]

To create a new connection, click *Create Connection*.

To edit an existing connection, click the connection name. The *Update Connection* configuration dialog is displayed, allowing you to update the parameters for the desired connection.

To remove an existing connection, hover your mouse over the connection name, then click the remove icon image:/docs/download/attachments/132809605/remove_icon-1.2.png?version=1&modificationDate=1437408593115[image] that appears on the left.

=== Cloud Extender

Allows you to view and delete configurations for Cloud Extender, the agent for data sources that reside behind a firewall.

image:/docs/download/attachments/132809605/cl.ext.list.png?version=1&modificationDate=1437150755322[image]

Each Cloud Extender configuration allows communication between Data Gateway and a data source on a private network. Cloud Extender itself is installed on a machine within the private network. Cloud Extender configurations can only be added during the process of configuring a new data gateway; you cannot add more configurations here. This screen allows you to list or delete existing configurations.

When you delete a Cloud Extender configuration, Data Gateway will cease to accept connections from the relevant Cloud Extender agent. Communication with any data sources within the private network will be lost.

To delete a Cloud Extender configuration, hover your mouse over the right-hand side of the list as shown in the image above, then click the remove icon that appears. Data Gateway will prompt you to acknowledge the request, as shown below.

image:/docs/download/attachments/132809605/cl.ext.list.confirm.remove.png?version=1&modificationDate=1437150755310[image]

For details on Cloud Extender, see the *Configuring a New Connection on a Private Network* in link:/docs/display/current/Creating+and+Configuring+a+Gateway[Creating and Configuring a Gateway].

=== Contact Us

Select this to send MuleSoft a message with suggestions or feedback.

=== Documentation

Click to go the link:/docs/display/current/Anypoint+Data+Gateway[online documentation main page].

=== VPC Setup

Here you can select from the available Virtual Private Cloud (VPC) types, as well as define VPC parameters.

image:/docs/download/attachments/132809605/vpc.setup.png?version=1&modificationDate=1437150755558[image]

== Operating on a Gateway

[TIP]
This section describes how to work with existing gateways. For information on creating a new gateway, see link:/docs/display/current/Creating+and+Configuring+a+Gateway[Creating and Configuring a Gateway].

=== Modifying a Gateway's Status

To modify the status of an existing gateway:

. Go to the gateway list in Gateway designer by clicking *Gateways* in the global left-hand menu (see image link:#ManagingGateways-image[above]).
. In the gateway list, locate the gateway you wish to modify, then click the *Edit* menu on the right.
+
image:/docs/download/attachments/132809605/modifying_gw_status-1.2.png?version=1&modificationDate=1437576398534[image]
+

. Select from the available options: *Publish*, *Start*, *Delete* or *Settings*. This last option takes you to the Settings configuration screen, described link:#ManagingGateways-settings[below].

=== Modifying Gateway Settings

To modify a gateway's settings (such as name and URL), click the gateway's *Edit* menu (see link:#ManagingGateways-status[above]), then select *Settings*. Alternatively, click the gateway in the gateway list, then click *Settings* in the left-hand menu. Gateway Designer displays the *Settings* screen for the gateway, shown below.

image:/docs/download/attachments/132809605/gw_settings-1.2.png?version=1&modificationDate=1437576908194[image]

==== Gateway Name, URL, Connection

Use the *Overview* screen displayed above to modify any parameters. When you're done, click *Save*.

==== Policies

Click the *Policies* tab to modify the following parameters:

* Gateway username
* Gateway password
* Throttling

==== Salesforce

Click the *Salesforce* tab to publish your gateway to Salesforce.

=== Working with Objects

To add, modify or delete objects in a gateway, click the gateway in the list of gateways.

Alternatively, click the gateway's *Edit* menu (see link:#ManagingGateways-status[above]), select *Settings*, then click *Objects* in the left-hand menu.

The Objects screen displays objects in the gateway. In the image below, gateway `MySQL dev` contains two objects, `gateways` and `users`.

image:/docs/download/attachments/132809605/add.object-1-1.2.png?version=1&modificationDate=1437755887058[image]

==== Creating a New Object

To add a new object to a gateway, click *Create Object*.

Data Gateway displays the *New Object* screen:

image:/docs/download/attachments/132809605/add.object-2-1.2.png?version=1&modificationDate=1437755967914[image]

In order to create an object, you need to:

. Choose the table where the object will reside.
. Specify a name for the object.
. Optionally describe the object.
. Select the fields for the object.

To select a table, you can search through the available tables list or type the full or partial name of a table in the search box. The string you type can be any part of the table, and is case insensitive.

image:/docs/download/thumbnails/132809605/add.object-3-1.2.png?version=1&modificationDate=1437756544489[image]

When you select a table, the field selector in the *Create an External Object* screen becomes populated with the table fields. Search for the desired fields using the search box. Then, select each individual field by clicking it, as shown below. To select all fields, click the empty checkbox by the *Name* column.

image:/docs/download/attachments/132809605/add.object-4-1.2.png?version=1&modificationDate=1437756720134[image]

The field that is assigned the primary key (`id` in the screenshot above) is marked as such by an icon. If the table does not have a primary key, you can assign one manually by hovering your mouse over the desired field, then clicking the key icon that appears next to the key name.

[NOTE]
Tables retrieved from SAP systems may display a *Description* column for some fields.

[TIP]
To toggle viewing only selected fields in a table, click the eye icon image:/docs/download/attachments/132809605/eye_icon-1.2.png?version=1&modificationDate=1437758251367[image] to the left of the search box.

After you have selected the table, object name and fields, click *Create Object* at bottom right of the screen.

==== Modifying an Existing Object

To modify an object in a gateway, click the object you wish to modify. Data Gateway displays the object properties screen, which allows you to modify the object.

This is the same screen used when link:#ManagingGateways-create_new_obj[creating a new object]. The image below displays the configuration window for object `users` on gateway `MySQL dev`.

image:/docs/download/attachments/132809605/modif.object-1.2.png?version=1&modificationDate=1437758757980[image]

== Viewing Gateway Logs

To view the logs for a gateway, click the gateway in the list of gateways, then select *Logs* from the left-hand menu.

As you can see in the image below, the log for the gateway is displayed in a scrollable pane in the browser window. Using this log viewer, you can:

* Search for log entries using the search box above the log
* Select to display the last 100 (default), 200 or 500 log entries
* View entries for all log priorities (the default) or only for specific priorities such as `INFO`, `ERROR`, `WARN`, etc.
* Download the log as a text file to your local machine

To download the log, use the download button image:/docs/download/attachments/132809605/download_icon-1.2.png?version=1&modificationDate=1437578999963[image]  at top right.

image:/docs/download/attachments/132809605/log.png?version=1&modificationDate=1437150755487[image]
