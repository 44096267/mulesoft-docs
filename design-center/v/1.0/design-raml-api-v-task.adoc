= To Design a RAML API Specification (Visual Editor)

link:/getting-started/api-lifecycle-overview#which-version[_Requires Crowd Release_]


This procedure covers how design an API in the visual editor. The example API consumes the free online REST service JSONPlaceholder. For example purposes, the oversimplified API just lists the comments the service collects about a particular post. 

To call the API, you enter the implementation URL of the API in a browser and add the ID of a post in the last component of the URL. Comments appear in the browser output.

. In Anypoint Platform, click Design Center. Set up a project to create a new API specification:
+
* In Projects, click Create. Select API Specification.
+
* In New API Specification, type a name for your new project. For example, type jsonplaceholder. 
* Check Start on Visual Editor.
+
image::vd-new-api.png[height=186,width=397]
+
* Click Create.
+
Visual API Designer opens.
+
. In API Info, set options as follows:
+
* In Title, accept the default title, which is the same as the project name, or change the title of the API. For example, change the title to *placeholder*.
* In Version, type a version of the API. For example, *'0.1'*.
* In Protocols, select HTTP or HTTPS. Select HTTP for this example.
* In Media Type, select a media type. For example, select application/json.
* In Base URI, type the base URI. For example, type the following URI:
+
`+http://jsonplaceholder.typicode.com/posts/{num}+`
+
. Click Base URI Parameters, and then +. Define the Num parameter: 
+
* In Name, type an arbitrary name. For example: *Num*. 
* In Type, select a RAML scalar type. For example, select Integer.
* In Description, type an description of the Base URI. For example, type *The unsecured URL ofthe JSONPlaceholder service.*
* Click Details >, and define additional RAML facets to restrict the inputs allowed for the parameter:
* In Description, type an description of Num. For example, type *The number of stored comments in posts.*
** Accept the default Required setting = checked.
** In Minimum and Maximum, enter input range limits. For example, type *1* and *5*, respectively. To call the API, you need to provide a number between 1-5.
** In Format, select a value. For example, select int.
** In Example number, enter *3*.
** In Default Number, enter *1*.
** In Description, type a description of API using markdown. For example, type *This API gets the comments about a post given a variable integer post **id** at the end of the URL.*
+
The generated RAML code appears on the right. 
+
----
#%RAML 1.0
title: placeholder
description: This API gets the comments about a post given a variable integer post **id** at the end of the URL.
version: 0.1
baseUri: http://jsonplaceholder.typicode.com/posts/{num}
baseUriParameters:
  num: 
    format: int
    type: integer
    minimum: 1
    maximum: 10
    example: 3
    description: The number of stored comments in posts
    default: 1
----
+
. Click + and select New Resource.
+
image::vd-newresource.png[height=215,width=397]
+
/newResource appears in the navigation pane and a code stub for the resource appears in the RAML code:
+
----
/newResource:
  displayName: /newResource
----
+
. In the canvas, set options for defining the resource:
+
* In URL, rename the resource to */comments*.
* Select one or more methods. For this example, select GET.
* Click Responses, and then click Add Response +.
* In Status, accept the default 200-OK.
* In Description, describe the status. For example, type *Success, comments retrieved.*
* Click Bodies (0) +
* Accept the default application/json as the mime type for the example response.
* In Type, select Array.
* In Description, describe the example response. For example, type *A list of comments about a particular post. You specify the **post ID** in the last part of the URI that calls the API.*
* Skip Minimum and Maximum Length, Pattern, and Default. In Example, enter the following JSON array in markdown:
+
----
[
                    {
                      "postId": 1,
                      "id": 1,
                      "name": "id labore ex et quam laborum",
                      "email": "Eliseo@gardner.biz",
                      "body": "laudantium enim quasi est quidem magnam voluptate ipsam eos\ntempora quo necessitatibus\ndolor quam autem quasi\nreiciendis et nam sapiente accusantium"
                    },
                    {
                      "postId": 1,
                      "id": 2,
                      "name": "quo vero reiciendis velit similique earum",
                      "email": "Jayne_Kuhic@sydney.com",
                      "body": "est natus enim nihil est dolore omnis voluptatem numquam\net omnis occaecati quod ullam at\nvoluptatem error expedita pariatur\nnihil sint nostrum voluptatem reiciendis et"
                    }
                  ]
----
+
* Select the response, and click Code Block to format the markdown.

* Click Documentation, and enter the following description in markdown:
+
*Retrieve a list of posts.*
+
. Click Edit RAML, and at the end of the generated RAML type the following code for the /comments resource:
+
----
/comments:
  get:
    description: Retrieve a list of posts
    responses:
      200:
        body:
          application/json:
            example: | 
                  [
                    {
                      "postId": 1,
                      "id": 1,
                      "name": "id labore ex et quam laborum",
                      "email": "Eliseo@gardner.biz",
                      "body": "laudantium enim quasi est quidem magnam voluptate ipsam eos\ntempora quo necessitatibus\ndolor quam autem quasi\nreiciendis et nam sapiente accusantium"
                    },
                    {
                      "postId": 1,
                      "id": 2,
                      "name": "quo vero reiciendis velit similique earum",
                      "email": "Jayne_Kuhic@sydney.com",
                      "body": "est natus enim nihil est dolore omnis voluptatem numquam\net omnis occaecati quod ullam at\nvoluptatem error expedita pariatur\nnihil sint nostrum voluptatem reiciendis et"
                    }
                  ]
