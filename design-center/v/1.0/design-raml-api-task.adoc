= To Design a RAML API Specification

// tech review by Christian, week of mid-April 2017 (kris 4/18/2017)

This procedure covers how to design an API using an example of connecting to the free online REST service JSONPlaceholder. The API consumes the service. For simplicity, the procedure describes an example API that has only one resource: user information. The JSONPlaceholder service returns requests for user information in JSON. 

. In Anypoint Platform, click Design Center, and in Projects click Create. 
. In New Project, set up a project:
+
* In Project Name type a name for your new project. For example, type placeholder.
* In Project Type, select API Specification.
The project opens for design in the master branch. Two lines of code based on the title and version of the API appears in the RAML editor.
+
. In the RAML editor, go to the next blank line (3) in the editor.
+
The possible entries you can make appear and are clickable options. 
+
image::designer-shelf.png[baseURI,height=374,width=414]
+
If you don't see these options, click image:down-angle-bracket.png[down angle bracket].
+
. At the root level, click Root > baseUri from the list of options. Enter a URI value. For example:
+
`+baseUri: http://jsonplaceholder.typicode.com+`
+
. Go to the next line of code, and include a resource in the RAML. Put the resource at the same indentation level as the `baseUri`.
+
For example, create a `/users` resource as shown in the following example:
+
----
...
baseUri: http://jsonplaceholder.typicode.com
/users:
----
+
. Enter the method associated with the resource and a description of the method. For example, specify the GET method to retrieve the information defined in `+http://jsonplaceholder.typicode.com+`. Indent the method name followed by a colon on the lines below the resource name.
+
. Include HTTP responses in the RAML for simulating the API. For example:
* Include the following code:
+
----
responses:
      200:
        body:
----
+
At this point the API definition looks like this:
+
----
#%RAML 1.0
title: placeholder
baseUri: http://jsonplaceholder.typicode.com
/users:
  get:
    description: Retrieve a list of all the users
    responses:
      200:
        body:
----
+
* Download the `user-example.json` from the "Downloads" section of this document and import the file:
* Select Files > Import.
* Select the OAS file type to import from the drop-down, click Choose File to browse to, select `user-example.json`, and import the file.
+
* In the RAML editor, declare an include file for use as the example:
+
----
...
      application/json:
        example: !include user-example.json
----
. At one indentation from the root and define the following resource:
+
----
  /userbyid:
    get:
      description: Get information about a particular user
      queryParameters:
        id:
          description: Specify the id of the user you want to retrieve
          type:        integer
          required:    false
          example: 3
      responses:
        200:
          body:     
            application/json:
----

== Download

* link:_attachments/placeholder.raml[RAML code for this tutorial]
* link:_attachments/user-example.json[Include file user-example.json]

