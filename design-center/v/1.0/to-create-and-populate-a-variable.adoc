= To Create and Populate a Variable (Design Center)

The scope of a variable is the Mule event. If you need variables to persist outside the event, use an object store. Unlike in 3.x versions of Mule runtime, only one type of variable exists in Mule 4.x.

== Create a Variable With an Operation

This procedure creates a new variable and populates it with data that's returned by the operation. For example, the variable can be set to the response from the HTTP Request. The variable value is a Mule message object that overwrites the payload, not the main Mule message. A Mule message object contains:

* An attributes object that contains metadata about the nature of the data request. 
* A payload object that contains the actual data.


. Open any component that isn't acting as a flow trigger. For example, open an HTTP Request component.

. In Advanced, in the Target Variable, enter a name for the variable.
+
image:to-create-and-populate-a-variable-3a582.png[]

////
. Optional: open the *Output* tab of the operation (on the top margin), select the newly created variable and assign a Data Type to it.
////
+
You can access the saved payload downstream through using the syntax:
+
`variables.MyVariableName.payload`


== Create a Variable with Transform

. Add Transform to the flow, and hardcode a variable value to the name of the table you want to query:
+
* In Transform, on the Mappings tab, select Output Payload > Add Transformation.
+
* In Type, select Variable.
+
* In Name, enter a variable name, for example *cm_table*.
+
* Click Create.
+
* In the center of the Mappings pane, click Set Data Type.
+
* In Transform, in Data Type for Variables cm_table, select New Data Type.
+
* In Name, type a name, for example *tablename*.
+
* In Format, accept the default, JSON.
+
* In Type, select From Example and enter an example of a table name. For example, type the following string in quotation marks:
+
*"tablenamestring"*
+
* Apply Changes and then Keep Transformation.
* To populate the variable, double-click Variables String (Tablename):
+
image::hardcode-var.png[Variables String,height=148,width=484]
+
* Replace the curly brackets with the table name enclosed in parentheses. For example, type *"payments"*.
+
Now, you can access the variable value, payments, from the Mule event in the next part of the flow using the expression variables.cm_table. For example, the following database connector Select operation selects all from the payments table:
+
`'SELECT * FROM ' variables.cm_table` 


////

. Add a new Transform Component to your flow and open its properties

. On the output section, click the dropdown next to the output label (it should display "Output Payload" by default), and select *Add Transformation*.
+
image:to-create-and-populate-a-variable-02fd0.png[]

. In the *Type* field, pick "Variable", and then give a name to your new variable.

+
image:to-create-and-populate-a-variable-0de76.png[]

. The Transform component now displays the transformation that outputs into your new variable. 

+
Unlike other components, any variables created in the Transform component are *not* Mule message objects. These variables will directly contain the data from your transformation.

+
If you don't want to process an extra transformation that outputs `payload` in this step, delete the default transformation. Open the dropdown next to the output label and click the trash can icon image:to-create-and-populate-a-variable-85dfe.png[] next to *Payload*.

+
image:to-create-and-populate-a-variable-a9b3c.png[]

. Define a link:/design-center/v/1.0/to-manage-data-types[Data Type] for your variable

. link:/design-center/v/1.0/graphically-construct-mapping-design-center-task[Construct a Mapping] of values from the input into your new variable.


Your new variable is created and populated with data from the input. The following components on your flow should have access to it.

////


== See also

* link:https://mule4-docs.mulesoft.com/connectors/object-store-connector[Object Store Connector].

* link:https://mule4-docs.mulesoft.com/mule-user-guide/v/4.0/mule-concepts[Mule Concepts] 

