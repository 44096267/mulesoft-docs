 

= Servers

====== About This Document

This document, as well as the rest of the documents that make up the link:/docs/display/33X/REST+API+Reference[Mule Management Console REST API Reference Guide], are a technical reference only. This document does not provide contextual information such as instructions, use cases or scenarios. To understand this document, you should be familiar with http://www.mulesoft.org/documentation/display/MULE3USER/Home[MULE ESB], Mule Servers and the link:/docs/display/33X/Using+the+Management+Console+API[REST API].

 Index of operations

[width="99%",cols="20%,16%,16%,16%,16%,16%",]
|===
|*Assumptions:* a|
[width="100%",cols="50%,50%",]
|===
|Host |localhost
|===

 a|
[width="100%",cols="50%,50%",]
|===
|Port |8080
|===

 a|
[width="100%",cols="50%,50%",]
|===
|Deployed app |mmc.war
|===

 a|
[width="100%",cols="50%,50%",]
|===
|User/Password |admin/admin
|===

 | 
|===

For a detailed description of the format used in this document, consult link:/docs/display/33X/Using+the+Management+Console+API[Content Organization and Conventions].

*/api/servers*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PAIR/REGISTER

 a|
link:#Servers-top[To top ↑]

|===

Pairs a new Server.

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |The name of the newly registered server |—
|agentUrl |String |The URL to the location of the Mule Management Console agent on the local or remote server |—
|groupIds |Array |IDs of existing Server Groups that the newly registered server will belong to |—
|===

===== Using CURL on Windows

----
 curl --basic -u admin:admin -d "{ \"name\" : \"Test\", \"agentUrl\" : \"http://localhost:7777/mmc-support\", \"groupIds\":[\"0bc8932b-8463-46cd-9a1f-77060756c5c0\"] }" --header "Content-Type: application/json" http://localhost:8080/mmc/api/servers
----

===== Using CURL on Linux

----
 curl --basic -u admin:admin -d '{ "name" : "Test", "agentUrl" : "http://localhost:7777/mmc-support", "groupIds":["0bc8932b-8463-46cd-9a1f-77060756c5c0"] }' --header 'Content-Type: application/json' http://localhost:8080/mmc/api/servers
----

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |The name of the newly registered server |—
|id |String |The ID of the newly registered server |—
|version |String |Version of the server (e.g. "3.3.0") |—
|groups |Array |Server Groups that the newly registered server belongs to |—
|name |String |Name of the Server Groups that the newly registered server belongs to |groups
|href |String |Full link to the Server Groups that the newly registered server belongs to |groups
|status |String |Status of the Server (e.g. UNKNOWN, STOPPED, WAITING_FOR_RESTART, STARTING, OK, WARN, ERROR) |—
|href |String |Full link to the resource |—
|runningServices |Integer |Number of running services on the Server |—
|hostIp |String |IP of the host where the Mule instance is running |—
|agentUrl |String |Agent URL. When paired, HTTPS protocol is used instead of plain HTTP |—
|muleServerId |String |Name of the Agent |—
|started |String |Time-date plus timezone from which the server was started |—
|agents |Array |List of running Agents on the Mule instance |—
|name |String |Name of the running Agent |agents
|description |String |Description of the purpose of the running Agent |agents
|pausedServices |Integer |Number of paused services on the Server |—
|stoppedServices |Integer |Number of stopped services on the server |—
|===

[width="100%",cols="50%,50%",]
|===
|*201* |Server successfully paired/registered
|*400* |Policies do not allow adding the specified server/ Invalid Agent URL/ Name must be supplied/ Server URL must be supplied/ A server with that name already exists
|*409* |Could not pair server/ Server is already paired
|*500* |Error while pairing the Server
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST ALL

 a|
link:#Servers-top[To top ↑]

|===

Lists all available Servers.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverGroupId |String |(Optional) ID of a Server Group. If specified, only servers belonging to that Server Group are displayed. If not specified, results are not filtered |—
|===

===== Using CURL

----
 curl --basic -u admin:admin http://localhost:8080/mmc/api/servers
----

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|total |Integer |Number of available registered servers |—
|data |Array |Available servers details |—
|name |String |The name of the newly registered server |data
|id |String |The ID of the newly registered server |data
|version |String |Version of the server |data
|groups |Array |Server Groups that the newly registered server belongs to |data
|name |String |Name of the Server Groups that the newly registered server belongs to |groups
|status |String |Status of the Server (e.g. OK, STOPPED) |—
|href |String |Full link to the Server Groups that the newly registered server belongs to |groups
|runningServices |Integer |IntegerNumber of running services on the Server |data
|hostIp |String |IP of the host where the Mule instance is running |data
|agentUrl |String |Agent URL. When paired, the HTTPS protocol is used instead of plain HTTP |data
|muleServerId |String |Name of the Agent |data
|started |String |Time-date plus timezone from which the server was started |data
|agents |Array |List of running Agents on the Mule instance |data
|name |String |Name of the running Agent |agents
|description |String |Description of the running Agent purpose |agents
|pausedServices |Integer |Number of paused services on the Server |data
|stoppedServices |Integer |Number of stopped services on the server |data
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*401* |Unauthorized user
|*404* |A server group with that ID was not found
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST

 a|
link:#Servers-top[To top ↑]

|===

Lists details for a specific Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|===

===== Using CURL on Windows

----
------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36
----
-------------------------------------------

===== Using CURL on Linux

----
---------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36' 
----
----------------------------------------------

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |The name of the newly registered server |—
|id |String |The ID of the newly registered server |—
|version |String |Version of the server |—
|groups |Array |Server Groups that the newly registered server belongs to |—
|name |String |Name of the Server Groups that the newly registered server belongs to |groups
|href |String |Full link to the Server Groups that the newly registered server belongs to |groups
|status |String |Status of the Server (e.g. OK, STOPPED) |—
|href |String |Full link to the Server Groups that the newly registered server belongs to |groups
|runningServices |Integer |Number of running services on the Server |—
|hostIp |String |IP of the host where the Mule instance is running |—
|agentUrl |String |Agent URL. When paired, the HTTPS protocol is used instead of plain HTTP |—
|muleServerId |String |Name of the Agent |—
|started |String |Time-date plus timezone from which the server was started |—
|agents |Array |List of running Agents on the Mule instance |—
|name |String |Name of the running Agent |agents
|description |String |Description of the running Agent purpose |agents
|pausedServices |Integer |Number of paused services on the Server |—
|stoppedServices |Integer |Number of stopped services on the server |—
|===

[width="100%",cols="50%,50%",]
|===
|*401* |Unauthorized user
|*404* |A server with that ID was not found
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

[width="100%",cols="34%,33%,33%",]
|===
a|
*DELETE*

 a|

===== UNPAIR/UNREGISTER

 a|
link:#Servers-top[To top ↑]

|===

Unpairs/unregister a specific Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |Id of the server to be unpaired/unregistered. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|===

===== Using CURL on Windows

----
----------------------------------------------------- curl --basic -u admin:admin -X DELETE http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469
----
-----------------------------------------------------

===== Using CURL on Linux

----
------------------------------------------------------- curl --basic -u admin:admin -X DELETE 'http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469'
----
-------------------------------------------------------

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*401* |Unauthorized user
|*404* |A Server with that ID was not found
|*500* |Error while unregistering the server
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/servers/\{serverId}*

[width="100%",cols="34%,33%,33%",]
|===
a|
*PUT*

 a|

===== UPDATE

 a|
link:#Servers-top[To top ↑]

|===

Updates a specific Server.

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |New name for the Server |—
|groups |Array |List of Server Groups that the Server will belong to |—
|===

===== Using CURL on Windows

----
--------------- curl --basic -u admin:admin -X PUT -d "{ \"name\" : \"New Server Name\", \"groups\":[{\"href\":\"0bc8932b-8463-46cd-9a1f-77060756c5c0\"}]}" --header "Content-Type: application/json" http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469
----
---------------

===== Using CURL on Linux

----
------ curl --basic -u admin:admin -X PUT -d '{"name" : "New Server Name", "groups":[{"href":"0bc8932b-8463-46cd-9a1f-77060756c5c0"}]}' --header 'Content-Type: application/json' 'http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469'
----
------

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |The name of the newly registered server |—
|id |String |The ID of the newly registered server |—
|version |String |Version of the server |—
|groups |Array |Server Groups that the newly registered server belongs to |—
|name |String |Name of the Server Groups that the newly registered server belongs to |groups
|status |String |Status of the Server (e.g. OK, STOPPED) |—
|href |String |Full link to the Server Groups that the newly registered server belongs to |groups
|runningServices |Integer |Number of running services on the Server |—
|hostIp |String |IP of the host where the Mule instance is running |—
|agentUrl |String |Agent URL. When paired, the HTTPS protocol is used instead of plain HTTP |—
|muleServerId |String |Name of the Agent |—
|started |String |Time-date plus timezone from which the server was started |—
|agents |Array |List of running Agents on the Mule instance |—
|name |String |Name of the running Agent |agents
|description |String |Description of the running Agent purpose |agents
|pausedServices |Integer |Number of paused services on the Server |—
|stoppedServices |Integer |Number of stopped services on the server |—
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*401* |Unauthorized user
|*404* |A Server with that ID was not found
|*500* |Error while updating server
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/servers/\{serverId}/applications*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST APPLICATIONS

 a|
link:#Servers-top[To top ↑]

|===

Lists all available deployed applications on a specific Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a Server |—
|===

===== Using CURL on Windows

----
------------------------------------------------------------ curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/applications    
----
------------------------------------------------------------

===== Using CURL on Linux

----
-------------------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/applications'    
----
--------------------------------------------------------------

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|total |Integer |Number of applications currently deployed |—
|data |Array |List of deployed applications |—
|name |String |Name of the application |data
|status |String |Status of the deployed application |data
|configResources |Array |List of files specifying flow(s) configuration |data
|appProperties |Array |Properties of the deployed application |data
|app.home |String |Fully qualified path to the application |appProperties
|app.name |String |Application name |appProperties
|redeploymentEnabled |Boolean |If true, application can be redeployed |data
|parentFirstClassLoader |Boolean |[DEPRECATED] |data
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/servers/\{serverId}/restart*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM RESTART

 a|
link:#Servers-top[To top ↑]

|===

Restarts a Server.

Error rendering macro 'deck' : java.lang.NullPointerException

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|===

===== Using CURL on Windows

----
----------------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/restart  
----
-----------------------------------------------------

===== Using CURL on Linux

----
------------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/restart'  
----
-------------------------------------------------------

Error rendering macro 'deck' : java.lang.NullPointerException

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*500* |Internal server error
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

Error rendering macro 'deck' : java.lang.NullPointerException

*/api/servers/\{serverId}/stop*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM STOP

 a|
link:#Servers-top[To top ↑]

|===

Stops a Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|===

===== Using CURL on Windows

----
-------------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/stop  
----
--------------------------------------------------

===== Using CURL on Linux

----
---------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$a89eb3d0-68b9-44a0-9f6b-712b0895f469/stop'  
----
----------------------------------------------------

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*500* |Internal server error
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

== Server Files

*/api/server/\{serverId}/files*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST FILES

 a|
link:#Servers-top[To top ↑]

|===

Lists files on a specific Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|===

===== Using CURL on Windows

----
----------------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36/files    
----
-----------------------------------------------------

===== Using CURL on Linux

----
------------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36/files'    
----
-------------------------------------------------------

===== JSON

Key

Type

Summary

Child of

total

Integer

Number of detected files and folders at root folder level

—

data

Array

List of files and folders detected at root folder level

—

name

String

Name of the file

—

size

Integer

Size of the file in bytes

absolutePath

String

Absolute path of the file/folder

—

directory

Boolean

True if the entry is a directory

—

lastModified

Long

Last modified time since epoch

—

friendlySize

String

Human readable size of the file

—

userCanExecute

Boolean

True if User can execute the file

—

userCanRead

Boolean

True if User can read the file

—

friendlyName

String

Friendly name of the file

—

[width="100%",cols="50%,50%",]
|===
|200 |The operation was successful
|404 |The location does not exist
|405 |Unauthorized user
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/files/\{relative path to file}*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST FILE

 a|
link:#Servers-top[To top ↑]

|===

Get a specific file from a specific Server.

=====  SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|relativePathToFile |String |Relative path to a specific file from the root folder of the server |—
|metadata |Boolean |(Optional) If false, file is returned, if true, high level file description is returned. Default value is false. |—
|===

===== Using CURL on Windows

----
-------------------------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/bin/mule    
----
--------------------------------------------------------------

===== Using CURL on Linux

----
--------------------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/bin/mule'   
----
---------------------------------------------------------------

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|name |String |Name of the file |—
|size |Long |Syze of the file in bytes |—
|absolutePath |String |Absolute path of the file |—
|directory |Boolean |True if the entry is a directory |—
|lastModified |Long |Last modified time since epoch |—
|friendlySize |String |Human readable size of the file |—
|userCanExecute |Boolean |True if User can execute the file |—
|userCanRead |Boolean |True if User can read the file |—
|userCanWrite |Boolean |True if User can write the file |—
|friendlyName |String |Friendly name of the file |—
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |The location does not exist
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/files/\{relative path to file to be created}*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== CREATE REMOTE FILE

 a|
link:#Servers-top[To top ↑]

|===

Creates a new file in the specified server and folder. +
 The source of the new file can be an existing file, or inline content. +
 EOL from the source is converted to the native representation of the platform where the agent is running.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|relative path to file to be created |String |Eg. myLog/myUser/myFile.txt |—
|===

===== Using CURL on Windows

----
----
----
------------------------- curl --basic -u admin:admin -v --header "Content-Type:application/octet-stream" --data-binary "@test.xml" http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt  
----
----
----
-------------------------

===== Using CURL on Linux

----
----
----
--------------------------- curl --basic -u admin:admin -v --header 'Content-Type:application/octet-stream' --data-binary '@test.xml' 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt'  
----
----
----
---------------------------

* "test.xml" is the source file in the example. You can provide full path or file name. In the last case, the file should be placed at the same folder than the one containing the curl executable.
* "@" is mandatory when specifying the source file is you want to copy the file contents. If "@"is not specified, then the new file being created will have the inline content itself as source (e.g. test.xml in this case).
* "fileOnLogsFolder.txt" in the example is the file to be created on the specified folder.

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*500* |Internal error
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

[width="100%",cols="34%,33%,33%",]
|===
a|
*PUT*

 a|

===== UPDATE/REPLACE REMOTE FILE

 a|
link:#Servers-top[To top ↑]

|===

Replaces a target file with the provided source file (or inline content) on the specified server and folder.

EOL from source is converted to a native representation of the platform where the agent is running.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|relative path to file to be replaced |String |Eg. myLog/myUser/myFile.txt |—
|===

===== Using CURL on Windows

----
----
----
----------------------------- curl --basic -u admin:admin -X PUT --header "Content-Type:application/octet-stream" --data-binary "@test.xml" http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt  
----
----
----
-----------------------------

===== Using CURL on Linux

----
----
----
------------------------------- curl --basic -u admin:admin -X PUT --header 'Content-Type:application/octet-stream' --data-binary '@test.xml' 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt'  
----
----
----
-------------------------------

* "test.xml" is the source file in the example. You can provide full path or file name. In the last case, the file should be placed at the same folder than the one containing the curl executable.
* "@" is mandatory when specifying the source file is you want to copy the file contents. If "@"is not specified, then the new file being created will have the inline content itself as source (e.g. test.xml in this case).
* In the example above, "fileOnLogsFolder.txt" is the file to be replaced on the specified folder.

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |File not found
|*405* |Unauthorized user
|*500* |Could not upload file
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

[width="100%",cols="34%,33%,33%",]
|===
a|
*DELETE*

 a|

===== DELETE REMOTE FILE

 a|
link:#Servers-top[To top ↑]

|===

Deletes a target file on the specified server and folder.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|relative path to file to be deleted |String |Eg. myLog/myUser/myFile.txt |—
|===

===== Using CURL on Windows

----
----
---------------------- curl --basic -u admin:admin -X DELETE http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt  
----
----
----------------------

===== Using CURL on Linux

----
----
------------------------ curl --basic -u admin:admin -X DELETE 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/files/logs/fileOnLogsFolder.txt'  
----
----
------------------------

* "fileOnLogsFolder.txt" in the example is the file to be deleted on the specified folder.

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

== Server Flows

*/api/server/\{serverId}/flows*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST FLOWS

 a|
link:#Servers-top[To top ↑]

|===

Lists available flows on a specific Server.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|refreshStats |Boolean |(Optional) If true, forces stats refresh |—
|===

===== Using CURL on Windows

----
----------------------------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36/flows    
----
-----------------------------------------------------

===== Using CURL on Linux

----
------------------------------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$97e3c184-09ed-423e-a5a5-9b94713a9e36/flows'    
----
-------------------------------------------------------

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|total |Integer |Number of available flows detected on the specified Server |—
|data |Array |List of available flows detected on the specified Server |—
|id |String |ID of the flow |data
|type |String |The type of the flow (e.g. a service or a simple flow) |data
|status |String |Status of the flow (i.e. RUNNING, STOPPING, PAUSED, STOPPED) |data
|serverId |String |ID of the Server where the flow runs |data
|auditStatus |String |If audit status enable, agent audits each call to the message. Default value: "DISABLED". Possible values: "CAPTURING", "PAUSED", "DISABLED", "FULL" |data
|flowId |List |Details that make a flow unique |data
|name |String |Flow name. When used as part of a URL, any spaces present are replaced by "%20" |flowId
|fullName |String |Full name of the flow |flowId
|application |String |The name of the application using the flow |flowId
|definedInApplication |Boolean |If false, then flow is executed as part of embeded Mule instance |flowId
|asyncEventsReceived |Integer |The number of asynchronous events received |data
|executionErrors |Integer |The number of execution errors |data
|fatalErrors |Integer |The number of fatal errors |data
|inboundEndpoints |Array |List of all inbound endpoints belonging to the flow. Information about inbound endpoint includes protocol, host and port (if applicable), or flow name. Example: vm://greeter |data
|syncEventsReceived |Integer |The number of synchronous events that were received |data
|totalEventsReceived |Integer |The total number of messages received by the flow |data
|averageProcessingTime |Integer |The average amount of time in seconds that the flow takes to process a message |data
|minProcessingTime |Integer |The minimum time in seconds that the flow takes to process a message |data
|maxProcessingTime |Integer |The maximum time in seconds that the flow takes to process a message |data
|totalProcessingTime |Integer |The total amount of time in seconds that the flow takes to process all messages |data
|processedEvents |Integer |The number of messages processed by the flow |data
|favorite |Boolean |True if identified as favorite flow |data
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |The specified server is currently down
|*500* |Error while listing flows
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/flows/\{flowName}/\{applicationName}/start*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM FLOW START

 a|
link:#Servers-top[To top ↑]

|===

Starts a specific flow.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|flowName |String |Name of the flow whose endpoints will be determined |—
|applicationName |String |Application Name to which the flow belongs to |—
|===

===== Using CURL on Windows

----
----
--------------------------------- curl --basic -u admin:admin -X POST http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/start  
----
----
---------------------------------

===== Using CURL on Linux

----
----
----------------------------------- curl --basic -u admin:admin -X POST 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/start'  
----
----
-----------------------------------

===== JSON

[cols=",",]
|===
|image:/docs/images/icons/emoticons/warning.png[image] a|

If flow is already started, the following message is returned:

|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |Flow doesn't exist
|*500* |Error while starting flow
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/flows/\{flowName}/\{applicationName}/stop*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM FLOW STOP

 a|
link:#Servers-top[To top ↑]

|===

Stops a specific flow.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|flowName |String |Name of the flow whose endpoints will be determined |—
|applicationName |String |Application Name to which the flow belongs to |—
|===

===== Using CURL on Windows

----
----
-------------------------------- curl --basic -u admin:admin -X POST http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/stop  
----
----
--------------------------------

===== Using CURL on Linux

----
----
--------------------------------- curl --basic -u admin:admin -X POST 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/stop' 
----
----
---------------------------------

===== JSON

[cols=",",]
|===
|image:/docs/images/icons/emoticons/warning.png[image] a|

If flow is already stopped the following message is returned:

|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |Flow doesn't exist
|*500* |Error while stopping flow
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

== Server Flows Endpoints

*/api/server/\{serverId}/\{flowName}/\{applicationName}/endpoints*

[width="100%",cols="34%,33%,33%",]
|===
a|
*GET*

 a|

===== LIST FLOWS ENDPOINTS

 a|
link:#Servers-top[To top ↑]

|===

Lists available endpoints belonging to specific flows.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of the server to be listed. Invoke link:#Servers-listAll[LIST ALL] to obtain it |—
|flowName |String |Name of the flow from which is desired to determine its endpoints |—
|applicationName |String |Application Name to which the flow belongs to |—
|===

===== Using CURL on Windows

----
----
------------------------------- curl --basic -u admin:admin http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints    
----
----
-------------------------------

===== Using CURL on Linux

----
----
--------------------------------- curl --basic -u admin:admin 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints'    
----
----
---------------------------------

[cols=",",]
|===
|image:/docs/images/icons/emoticons/check.png[image] |If flow name contain spaces, replace them by "%20" when typing the URL to locate the resource.

|===

===== JSON

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|total |Integer |Number of endpoint detected |—
|data |List |List of endpoint details |—
|address |String |Address of the endpoint (e.g. "system.out," "http://localhost:8888," etc) |data
|id |String |ID of the endpoint |data
|type |String |Type of the endpoint (e.g. VM) |data
|status |String |Status of the endpoint (e.g. started, stopped) |data
|connector |String |Connector name |data
|filtered |Boolean |True if the endpoint is filtered |data
|routedMessages |Integer |Number of routed messages |data
|synchronous |Boolean |True if the endpoint is synchronous |data
|tx |Boolean |True if the endpoint handles transactions |data
|===

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |The specified flow does not exist
|*500* |Error while getting endpoints
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/flows/\{flowName}/\{applicationName}/endpoints/\{endpointId}/start*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM FLOW ENDPOINT START

 a|
link:#Servers-top[To top ↑]

|===

Starts a specific endpoint.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|flowName |String |Name of the flow that the endpoint belongs to |—
|applicationName |String |Name of the application using the flow |—
|endpointId |String |ID of the endpoint |—
|===

===== Using CURL on Windows

----
----
----
------- curl --basic -u admin:admin -X POST http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints/endpoint.http.localhost.8888/start  
----
----
----
-------

===== Using CURL on Linux

----
----
----
--------- curl --basic -u admin:admin -X POST 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints/endpoint.http.localhost.8888/start'  
----
----
----
---------

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |Flow doesn't exist
|*409* |No valid endpoint names specified
|*500* |Error while starting endpoints
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

*/api/server/\{serverId}/flows/\{flowName}/\{applicationName}/endpoints/\{endpointId}/stop*

[width="100%",cols="34%,33%,33%",]
|===
a|
*POST*

 a|

===== PERFORM FLOW ENDPOINT STOP

 a|
link:#Servers-top[To top ↑]

|===

Stops a specific endpoint.

===== SYNTAX

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Key |Type |Summary |Child of
|serverId |String |ID of a registered server |—
|flowName |String |Name of the flow that the endpoint belongs to |—
|applicationName |String |Name of the application using the flow |—
|endpointId |String |ID of the endpoint |—
|===

===== Using CURL on Windows

----
----
----
------ curl --basic -u admin:admin -X POST http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints/endpoint.http.localhost.8888/stop  
----
----
----
------

===== Using CURL on Linux

----
----
----
-------- curl --basic -u admin:admin -X POST 'http://localhost:8080/mmc/api/servers/local$24600824-af33-4394-8e39-93f9fcf4faae/flows/Hello%20World/mule-example-hello/endpoints/endpoint.http.localhost.8888/stop'  
----
----
----
--------

===== JSON

[width="100%",cols="50%,50%",]
|===
|*200* |The operation was successful
|*404* |Flow doesn't exist
|*409* |No valid endpoints names specified
|*500* |Error while stopping endpoints
|===

[width="100%",cols="50%,50%",]
|===
|From |3.2.2
|===

 +
 +
