= About Auto-Discovery (Classic and Latest)

API auto-discovery is the mechanism to manage an API from API Manager by pairing the deployed application to an API created on the platform. Auto-discovery plays a key role in API governance through policies. Critical to the auto-discovery process is providing one of the following types of credentials, depending on the API Manager version you use, correctly:

* apiId (Latest API Manager)
* API name and version (Classic API Manager)

If the API is registered in API Manager (Latest), to connect to an organization from Mule Runtime, you need to provide the client id and client secret of the organization's environment.

If the API is registered in API Manager (Classic), to connect to an organization from Mule Runtime, you need to provide the client id and client secret of the organization's business group. 

These credentials are set as follows:

* Deploy from Studio
+
Studio 6.0: Add organization credentials to Studio Preferences. For more information, see the Studio 6 documentation (link below).
+
* Deploy the API through API Manager or Runtime Manager
+
Auto-discovery is configured automatically
+
* Deploy from the Mule command line
+
You configure auto-discovery in `$MULE_HOME/conf/wrapper.conf` as described in the next topic.
+
* Deploy some other way
+
Set system properties in Runtime Manager. In the property settings using the following names:
+
** anypoint.platform.client_id
** anypoint.platform.client_secret

== No Support for Auto-Discovery (Studio 7)

The auto-discovery element is not supported in Studio 7.0. You need to manually add the element to your Studio 7 applications.


== Auto-Discovery Process (Latest)

The process is the same in the latest version as discussed in the next section, except the apiId is used instead of name and version.

== Auto-Discovery Process (Classic)

The following diagram illustrates the auto-discovery process for a project containing an `api-platform-gw:api` auto-discovery global element in the configuration.xml:

image::api-auto-discovery-v2.png[api-auto-discovery-v2,height=452,width=600]

After API registration, the API version and its endpoint function the same as any other API version or endpoint. You can edit, update, or delete the API. If the Mule runtime or API Gateway runtime instance running the API goes offline, or you stop the underlying application, the API and endpoints remain in API Manager, but the endpoints are untracked by the agent.

== See Also

* link:/anypoint-studio/v/6/setting-up-your-development-environment#configure-anypoint-platform-credentials[Configure Anypoint Platform Credentials - Studio 6]
* link:/api-manager/configure-auto-discovery-task[To Configure Auto-Discovery]


// Eng will provide Studio 7 example application showing auto-discovery configuration


