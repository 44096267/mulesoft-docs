= About Auto-Discovery (Latest)

API Autodiscovery is the mechanism to manage an API from API Manager by pairing the deployed application to an API created on the platform. You can use auto-discovery to register and start an API in API Manager without user intervention. Auto-discovery plays a key role in API governance through policies. Having a unique client ID and client secret for an API is critical to the auto-discovery process. In API Manager, an API can have multiple environments and you can have multiple API instances in the same environment. Unlike the auto-discovery process in the classic API Manager, which uses the business group client ID and client secret, auto-discovery uses environment-based credentials. The API instances can belong to the same business group, so using business-group credentials do not uniquely identify an instance. 

image::env-clientid.png[]

The syntax of the auto-discovery credentials is:

----
name="groupID:{{groupID}}:assetId:{{assetId}}"
version="{{version}}:{{instanceId}}"
----

These credentials identify the instance that PI Manager governs according to applied policies. You obtain these credentials from the API administration dashboard in API Manager. You use these credentials to identify the API in the Studio global element property configuration, in the proxy application XML, and Runtime Manager property settings for CloudHub.

== Using Auto-Discovery in Mule 4

In a Mule 4 app, to identify an API you need to provide its apiId and a reference to the APIs main flow. The main flow is where the HTTP listener is defined. The syntax for specifying the apiId is:

`<api-gateway:autodiscovery apiId="${api.id}" flowRef="proxy" />`

The apiId in Mule 4 replaces the API Name and API Version, which was required for API Gateway to create an API in API Manager. Mule 4 does not support creation of an API in API Manager. Mule 4 supports tracking an API that resides in Exchange using API Manager. 

== Using Auto-Discovery in Studio

The auto-discovery element is not supported in Studio 7.0. You need to manually add the element to your Studio 7 applications.

== See Also

* link:/api-manager/get-auto-discovery-task[To Obtain Auto-Discovery Credentials]
* Studio 7 example application showing auto-discovery configuration


