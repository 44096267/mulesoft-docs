= Mule Runtime 3.8.5 Release Notes
:keywords: mule, 3.8.5, runtime, release notes

*June 30, 2017*

Mule Runtime 3.8.4 includes API Gateway enhancements, ...

Key enhancements are:
This version introduces improvements in the communication with the Platform by implementing a backoff logic in the event of failed requests. A failure in the connection will trigger incremental reconnection times till a maximum of 15 minutes.

This version also includes several fixes on Resource Level policies and cluster scenarios.

A security enhancement was added to the OAuth token enforcement and Ping Federate token enforcement policies to ensure that the client that was granted the access token has access to the API. In the scenario where a customer doesn’t wish to validate the client id, a custom policy can be used based on the original policy removing the client validation step.

== Supported Software

Mule was tested on the following software:

// updated per DOCS 1749 https://github.com/mulesoft/mulesoft-docs/commit/4bd356c8f2cc5d0952ee99622c0c7f0b360455df

[%header,cols="15a,85a"]
|===
|Software |Version
|JDK |JRE 1.7.0, JRE 1.8.0 (Recommended JRE 1.8.0_91/92)
|OS |MacOS 10.11.4, HP-UX 11i V3, AIX 7.2, Windows 2012 R2 Server, Windows 8.1, Solaris 11.3, RHEL 7, Ubuntu Server 15.04
|Application Servers |Tomcat 7 and 8, WebLogic 12c, WebSphere 8, WildFly 8 and 9, Jetty 8 and 9
|Databases |Oracle 11g, Oracle 12c, MySQL 5.5+, IBM DB2 10, PostgreSQL 9, Derby 10, Microsoft SQL Server 2014
|===

The unified Mule Runtime 3.8.5 and API Gateway is compatible with APIkit 3.8.5
This version of Mule runtime comes bundled with the Runtime Manager Agent plugin version 1.6.4.

== Enhancements

"15a,85a"]
|===
|Issue |Description
| AGW-1264 | Implement exponential backoff logic on failed requests with Platform
| AGW-1217 | Support OpenID Connect token enforcement policy. This policy will be enabled on the Platform with having API Manager and Core Services fully support organizations configured with an OpenID Connect provider.
|===

== Fixed issues

[%header,cols="15a,85a"]
|===
|Issue |Description
| AGW-1315 | Fixed NPE when stopping a Mule Runtime without setting it up as a GW 
| AGW-1314 | Client based policies don’t cache the client credentials on the slave nodes of a cluster when applied at a Resource level
| AGW-1311 | Error generated on slave node when a policy is unapplied
| AGW-1292 | Error is generated on Autodiscovery when the API doesn’t exist
| AGW-1289 | Gatekeeper blocks the API when the policy is applied at a Resource level
| AGW-1263 | When a Core Services token expires and is not reset, following logins to Platform will fail
| AGW-1236 | Resource Level policies don’t work with content-type routing
| AGW-1235 | Gatekeeper is disabled by default in 3.8.4. Default switched back to enabled.
| AGW-1173 | DataWeave in Custom Policies doesn’t work as expected
| AGW-1141 | Requester in a Custom Policy logs on System log instead of App log
| AGW-895| AES and Ping Federate OAuth providers allow the token being shared by all applications using the same OAuth 2.0 server.
|===

== Library Changes

[%header,cols="15a,85a"]
|===
|Issue |Description
|  | 

|===

== Migration Guide

[%header,cols="15a,85a"]
|===
|Issue |Description
|  | .

|===

