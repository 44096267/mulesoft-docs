= To Map Users to Roles in an LDAP Group

You can map users in a federated organization's LDAP group to an Anypoint link:/access-management/roles[Role]. Your Anypoint Platform organization needs to use an external identity provider such as link:https://www.pingidentity.com/en/products/pingfederate.html[PingFederate].

After you perform this mapping, users in an organization can sign into Anypoint Platform using the same organizational credentials and access permissions that an organization maintains using LDAP. +
This ensures security of credentials and maintains organizational roles for accessing privileged information.

Choose an external identity provider and then configure roles.

To configure a role:

. In Anypoint Platform, click *Roles*. Click *Add role* to create a role for each group of users in your organization.
+
image::external-identity-34af9.png[]

. Specify a role name and description. Click *Add role* to add the role:
+
image::external-identity-c731b.png[]
+

. In the *Roles* menu, click the name of the new role:
+
image::external-identity-35f9a.png[]
+

. Click *Set external group mapping*:
+
image::external-identity-251b8.png[]
+

. Copy the string from your SAML assertion's AttributeValue to the *External group name* field, for example:
+
SAML AttributeValue:
+
[source,xml,linenums]
----
<saml:AttributeValue xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:type="xs:string">cn=jira-users,ou=groups,dc=muleforge,dc=org</saml:AttributeValue>
----

+
Mapping:
+
image:external-identity-cfb1e.png[]

. Click *Set names*.
.. If you want to map more than one attribute name to the selected role, you can click on the *Add more* option and add another attribute.
. Repeat this process for each role that you would like mapped to an external group.

