= Designing Your API
:keywords: api, designer, console, raml, apikit

*API Designer* is an environment for designing and writing a API in link:http://raml.org[RESTful API Modeling Language (RAML)]. API Designer supports RAML 1.0. APIs that you create in API Designer can be consumed by link:/anypoint-platform-for-apis/building-your-api[APIkit] and other RAML interpreting frameworks such as Osprey and JAXRS-Codegen.

image:APIdesignerAreas.png[APIdesignerAreas]

== RAML 1.0 Enhancements

RAML 1.0 includes a number of enhancements. The following list includes just a few of the new capabilities:

* Data types
+
A efficient way to model data that uses simplified YAML-based, map syntax and can include examples and annotations
+
* Examples
+
Named examples of instances of a type that documentation generators can use to provide sample values
+
* Annotations
+
Metadata you can add to extend the API beyond the RAML 1.0 specification or to enhance built-in RAML properties
+
* Improved library, overlay, and extension capabilities
+
More modular than in the previous version
+
* Better security schemes
+
Complete OAuth, key-based security schemes and extension points.

== Prerequisites

To use API Designer in Anypoint Platform, you need the following things:

* An Anypoint Platform account
+
If you do not have an account, link:https://anypoint.mulesoft.com/login/#/signin[sign up now].
* API Creator or Organization Administrator link:/anypoint-platform-for-apis/managing-users-and-roles-in-the-anypoint-platform#understanding-roles[role membership]
+
If you are not a member of one of these roles, you cannot see the *Add new API* button that you use to access the API Designer.

== Accessing API Designer

You can access API Designer in the following ways:

* From Anypoint Platform, using the procedure in the next section
+
You need an Anypoint Platform for APIs account. If you already have an account, you need to have API Creator permissions to create an API definition in API Designer. If you don't already have an account, link:https://anypoint.mulesoft.com/accounts/#/signup[sign up].
+
* Download API Designer from link:https://github.com/mulesoft/api-designer[Github] and follow instructions about how to run it as a standalone process in your local machine or embed it into another application.

=== Access API Designer from Anypoint Platform

After signing in to Anypoint Platform, follow these steps to access API Designer:

. Click *API Manager*.
+
The *API administration* page appears, listing the names of APIs, if there are any, that you are authorized to see.
+
. Click *Add new API*.
+
The Add API dialog appears.
. Enter the following required information:
+
* *API name*: placeholder
* *Version name*: 1.0.development
+
. Click *Add*.
+
The API version page appears. 
. In *API Definition*, click the *Define API in API Designer* link.
+
image:API+designer+link.png[API+designer+link]
+
The Designer has three panels: 

* Files panel (on the left)
* The RAML editor panel (in the middle)
* The link:[API Console] (on the right)

=== Files Panel

The files panel shows the only file currently associated with the API, the one you are creating, named `api.raml` by default. Any imported files, such as schemas, that you use as `include` files appear in this list. 

=== RAML Editor Panel

The RAML editor panel contains the beginnings of an API definition, the title and version number, generated from the Anypoint Platform dialog you filled in. The RAML editor functions include:

* Checks and highlights syntax
* Provides instant feedback, flagging incorrect syntax
* Displays a shelf of clickable hints for inserting the next line of code

=== RAML Editor Panel Shelf

The shelf of clickable hints about valid operations appears at the bottom of API Designer. The shelf displays a list of the elements you're able to enter at the location of your cursor. These elements are arranged into categories: Root, Docs, Parameters, Security, Resources, Traits and Types, and Schemas. When you place the cursor on a new line and in a different column, the editor recognizes that you are at a different level in the API definition hierarchy and have different needs. The Shelf changes to reflect your new options.
+
image:suggestions.png[Shelf suggestions]

=== API Console

The API Console panel is located to the right of API Designer. Using the API Console and turning on the Mocking Service on the top, right-hand side, you can simulate calls to the API. 

image:API+designer3.8.png[API+designer3.8]

== Creating a RAML 1.0 API in API Designer

The example in this section connects to a free online REST service, link:http://jsonplaceholder.typicode.com[JSONPlaceholder].  Resources are: 

 * All user information
 * User names only

The JSONPlaceholder service returns requests for user information in JSON. The RESTful API interface navigates the JSON resource, provides all user information, or partial (names-only) user information to callers.

After following steps to <<access the API Designer, Accessing API Designer>>, the RAML editor generates three lines of code based on the title and version of the API you provided in the Add API dialog:

[source,yaml,linenums]
----
#%RAML 0.8
title: placeholder
version: 1.0.development
----
To create a RAML 1.0 API:

. Remove `#%RAML 0.8` from line 1. 
+
On the shelf, the following RAML document versions and types appear, one of which is required on line 1:
+
image:raml-main10.png[raml-main10]
+
. Click #%RAML 1.0, accept the default title and version properties and values.
+
. On line 4, at the root level (column 1), click securitySchemes on the shelf.
. On lines 5-8, type the following lines:
+
[source,yaml,linenums]
----
#%RAML 1.0
title: placeholder
version: 1.0.development
securitySchemes:
  basic:
    description: |
      This API supports Basic Authentication.
    type: Basic Authentication
----
+
These properties sufficiently describe Basic Authentication security. The API is now equipped to require a user name and password.
. At the root level enter the optional *baseUri* and its value, the JSONPlaceholder URL: http://jsonplaceholder.typicode.com
+
The baseUri serves as an identifier for the API and forms the base of the URLs of the resources. 
+
`baseUri: http://jsonplaceholder.typicode.com`
+
. Include the resources in the RAML, formatting each resource as URI relative to the `baseUri`.
+
For this example, the resources are:
+
 * Users
 * Names
+
Use a forward slash followed by an arbitrary resource name and a colon to enter resources in URI format, as shown in the following example:
+
----
...
baseUri: http://jsonplaceholder.typicode.com
/users:
/names:
----
+
. Enter the methods associated with the resources, indenting the method name followed by a colon on the line below the resource names. For this example, enter the get method below each resource.
+
Call these methods to get user information, all of it or just the names.
+
At this point the API definition looks like this:
+
#%RAML 1.0
title: placeholder
version: 1.0.development
baseUri: http://jsonplaceholder.typicode.com
securitySchemes:
  basic:
    description: |
      This API supports Basic Authentication.
    type: Basic Authentication
/users:
  get:
    description: Retrieve a list of all the users
/names:
  get:
    description: Filter the user list by name, list all names

To keep your API definition as concise as possible for your consumers, use the ** `!include`** property to host documentation, schemas, and often-used patterns outside the definition itself. The Designer's parser interprets **`!include`** as if the content of the externally-hosted file were declared in-line.

When entering long form documentation, such as an authentication process, the designer accepts standard Markdown syntax.

== Simulating Calls to the API

You can simulate calling the API in the API console. 

. Above the API console on the right, turn on the *Mocking Service*.
. In your RAML definition the `baseUri` that was a placeholder for the duration of the design phase is now an actual URI:

image:API+designer+mocking.png[API+designer+mocking]

If you provided example responses in the RAML definition, you can issie calls in the API Console or your browser to return the example data. 

You can now link://anypoint-platform-for-apis/walkthrough-engage#including-an-api-console[share your API Console in the API Portal].

== See Also

* link:http://training.mulesoft.com[MuleSoft Training]
* link:https://www.mulesoft.com/webinars[MuleSoft Webinars]
* link:http://blogs.mulesoft.com[MuleSoft Blogs]
* link:http://forums.mulesoft.com[MuleSoft's Forums]
* link:https://www.mulesoft.com/support-and-services/mule-esb-support-license-subscription[MuleSoft Support]
* mailto:support@mulesoft.com[Contact MuleSoft]

