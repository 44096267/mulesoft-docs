= DataWeaveÂ Cookbook
:keywords: studio, anypoint, transform, transformer, format, aggregate, rename, split, filter convert, xml, json, csv, pojo, java object, metadata, dataweave, data weave, datamapper, dwl, dfl, dw, output structure, input structure, map, mapping


This section links to examples that demonstrate common data extraction and transformation approaches.


[cols="2,5",options="header"]
|===
|Example | Description

|link:/mule-user-guide/v/4.0/dataweave-cookbook-extract-data[Extracting Data]
| Shows common selector expressions for extracting values from a data source, such as a Mule message.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-perform-basic-transformation[Perform Basic Transformation] | Uses selectors to perform a basic format transformation. It does not use any operators.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-map[Mapping Data]
| Uses `map` to reorganize fields in a JSON array. It uses `as` to coerce a String into a Number.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-regrouping-fields[Regrouping Fields]
| Uses `groupBy`, `mapObject`, and `map` to reorganize JSON and XML fields.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-output-a-field-when-present[Outputting a Field When Present]
| Uses `when` with `map` to determine whether to include a field in the output. You might use it to exclude fields that contain sensitive data.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-change-value-of-a-field[Changing the Value of a Field]
| Masks sensitive data by changing values of some keys in an XML object to asterisks (\****). Uses `mapObject`, `unless`, and `otherwise`.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-exclude-field[Excluding Fields from the Output]
| Shows how to exclude unwanted XML elements from the output. Uses the `-` (remove) and `mapObject` operators.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-rename-keys[Renaming Keys]
| Renames some keys in a JSON object while retaining the names of all other keys in the output. Uses `mapObject`, `when`, `as`, and `and`.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-insert-attribute[Inserting an Attribute into an XML Tag]
| Uses the `@(key:value)` syntax to create an XML attribute.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-define-function-to-flatten-list[Defining a Function that Flattens Data in a List]
| Uses `reduce`, `map`, `when`, and `splitBy` to modify and conditionally output fields from a list.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-merge-fields-from-array[Merging and Filtering Fields]
| Merges fields from an array of objects. Filters the output based on a unique identifier. Uses `map`, `using`, `as`, and `filter` operations.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-use-constant-directives[Using Constant Directives]
| Uses `%var` in the DataWeave header to build URLs from constant directives.

| link:/mule-user-guide/v/4.0/dataweave-cookbook-output-self-closing-xml-tags[Outputting self-closing XML tags]
| Uses `inlineCloseOn="empty"` to close empty tags (for example, `<element2/>`).

| link:/mule-user-guide/v/4.0/dataweave-cookbook-parsing-dates[Parsing Dates]
| Defines a function that normalizes conflicting date formats into a single, common format. Uses `mapObject` to run through date fields.



|  link:/mule-user-guide/v/4.0/dataweave-cookbook-pass-functions-as-arguments[Passing Functions as Arguments]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-perform-basic-math[Performing Basic Math]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-remove-certain-xml-attributes[Remove Certain XML Attributes]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-use-constant-directives[Using Constant Directives]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-conditional-list-reduction-via-function[]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-dynamic-mapping-based-on-a-definition[]
|


| link:/mule-user-guide/v/4.0/dataweave-cookbook-group-by[]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-merge-multiple-payloads[]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-reference-multiple-inputs[]
|

| link:/mule-user-guide/v/4.0/dataweave-cookbook-rename-keys[]
|

|===

////
THESE DON'T WORK
|  link:/mule-user-guide/v/4.0/dataweave-configure-csv-reader[]

|  link:/mule-user-guide/v/4.0/dataweave-cookbook-create-mule-config[Creating a Mule Configuration]

|  link:/mule-user-guide/v/4.0/dataweave-cookbook-create-mule-pom[Creating a Mule POM]


////




== See Also

* To step through basic DataWeave use cases and exercises in actual Mule applications, see the link:/mule-user-guide/v/4.0/dataweave-quickstart[DataWeave Quickstart Guide].
* link:/mule-user-guide/v/4.0/mule-concepts[Mule Concepts]
