= Mule 4.0 Changes
:keywords: studio, server, components, connectors, elements, palette, global elements, configuration elements

== Replacements To Make

The following table shows Mule 3.x components and how to replace them in Mule 4.0.

[%header,cols="30,70"]
|===
Mule 3.x Component| Mule 4.0 Replacement|
expression-component|Use scripting module, java module or DW transformation.|
processor|Use java module or scripting component|
custom-processor|Use java module or scripting module|
invoke|Use java module or scripting module|
request-reply|Mule 4 will not longer support request-reply for all connectors. Connectors that may have a “request-reply” behaviour will provide a “request-reply” operation|
transactiona scope|Replaced with “try” scope.|
custom-source|Build the source with SDK.|
composite-source|Create one flow per each source and invoke a private flow using flow-ref for the common functionality|
seda-model|No more SEDA queues in Mule 4. Execution engine in Mule 4 is non-blocking|
model|Migrate to flows|
*-point-resolver-set|Replace with java module|
*-entry-point-resolver|Replace with java module|
include-entry-point|Replace with java module|
legacy-abstract-exception-strategy|Use new error handling mechanism|
reconnect-custom-strategy|No replacement|
reconnect-custom-notifier|No replacement|
service|Use flows|
custom-service|Use flows|
flow[‘processingStrategy’]|No replacement|
synchronous-processing-strategy|The behavior related to flow components execution is the same as flows in 4.x but it doesn't always execute in the same thread as in 3.x.|
asynchronous-processing-strategy| Use an “async” scope wrapping all the components."|
simple-service|No replacement|
bridge|No replacement|
validator|No replacement|
component|Use java module|
custom-transaction|No replacement|
endpoint|Use connectors|
inbound-endpoint|Use connectors|
poll|replaced with scheduler source|
poll -> watermark|Use of the object-store module to manually set the watermark values|
outbound-endpoint|Element moved from thecore namespaceto the newtransports namespace|
message-properties-transformer|Use Transform component & DataWeave|
set-property|Use Transform component & DataWeave|
remove-property|Use Transform component & DataWeave|
copy-properties|Use Transform component & DataWeave|
set-variable|Use Transform component & DataWeave|
remove-variable|Use Transform component & DataWeave|
set-session-variable|Use Transform component & DataWeave|
set-attachment|Use Transform component & DataWeave|
remove-attachment|Use Transform component & DataWeave|
copy-attachments|Use Transform component & DataWeave|
set-payload|Use Transform component & DataWeave|
default-exception-strategy|Use error-handler with an on-error-propagate strategy.|
catch-exception-strategy|Use error-handler with an on-error-continue strategy.|
choice-exception-strategy|Use error-handler with different strategies inside using error type selection or when attribute.|
rollback-exception-strategy|Use error-handler with an on-error-propagate strategy.|
default-service-exception-strategy|Use error-handler with an on-error-propagate strategy.|
custom-connector|Use SDK to build a custom connector|
in-memory-store|Use object store module extension to create custom stores|
simple-text-file-store|Use object store module extension to create custom stores|
managed-store|Use object store module extension to create custom stores|
custom-object-store|Use object store module extension to create custom stores|
idempotent-redelivery-policy|New name is redelivery-policy.|
idempotent-secure-hash-message-filter|A function to apply a hash over the payload can be used as the id expression attribute value of the idempotent-redelivery-message.|
all|Use scatter gather instead or execute the operations one after the other with different target attributes and then use DW to merge results.|
custom-lifecycle-adapter-factory|No replacement.|
spring-object|Use Java module or Spring module|
singleton-object|Use Java module or Spring module|
prototype-object|Use Java module or Spring module|
*-threading-profiled|Now they belong to the transports namespace|
configuration[‘defaultExceptionStrategy-ref’]|New name is defaultErrorHandler-ref|
pooling-profile[‘disabled’]|New attribute|
|===

The following table shows deprecated/removed Mule 3.x modules and how to replace them in Mule 4.0.

[%header,cols="30,70"]
|===
Mule 3.x Module| Mule 4.0 Replacement
|Atom	| Replaced with HTTP + DataWeave
|OGNL	| Replaced DataWeave expression language, or MEL in compatibility module.
|RSS	| Use HTTP + DataWeave
|SXC	| Use DataWeave.
|Tomcat 	| New embedded mode in development.
|Quartz	| Use <poll>
|Servlet	| New embedded mode in development.
|Jetty	| Use new HTTP module.
|UDP	| Use Sockets.
|Axis	| Use WS Consumer / APIkit for SOAP
|Ajax	| Use APIkit + standard REST.
|===

== Components In Development

The following components aren't supported in the Mule 4.0-beta release and don't have a replacement, but are in development:

* *-message-info-mapping
* parse-template
* response
* username-password-filter
* idempotent-message-filter
* interceptor-stack
* *-interceptor
* *-transformer
* websphere-transaction-manager
* weblogic-transaction-manager
* jrun-transaction-mamanger
* resin-transaction-mamanger
* jndi-transaction-manager
* reconnect-notifier
* custom-transaction-manager
* *-filter

== Unsupported Components in Mule 4.0

The following components are intentionally not supported in Mule 4.0-beta:

* combine-collections-transformer
* scatter-gather[‘threading-profile’]
* async[‘processingStrategy’]
* queue-store
* custom-queue-store
* default-in-memory-queue-store
* default-persistent-queue-store
* simple-in-memory-queue-store
* file-queue-store
* queue-profile
* custom-agent
* mule[‘version’]
* exception-strategy
* custom-exception-strategy
* -s-object-store
* custom-aggregator
* custom-splitter
* custom-router
* recipient-list
* dynamic-round-robin
* dynamic-all
* dynamic first-successful
* custom-router-resolver
* *-router
* *-all-strategy
* configuration[‘useExtendedTransformations’]
* configuration[‘flowEndingWithOneWayEndpointReturnsNull’]
* configuration[enricherPropagatesSessionVariableChanges]
* until-successful

The following modules are intentionally not supported in Mule 4.0-beta:

* BPM
* Drools
* Guice
* JBoss Transactions
* jBPM
* Patterns
* XMPP
* EJB
* RMI
* Stdio
* MSMQ


== See Also

* link:/mule-user-guide/v/4.0/about-event-source[About the Event Source]
* link:/mule-user-guide/v/4.0/about-event-processors[About Event Processors]
