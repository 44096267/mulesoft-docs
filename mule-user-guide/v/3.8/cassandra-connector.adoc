= Cassandra Connector
:keywords: connectors, anypoint, studio, esb, cassandra, databases
:imagesdir: _images
:icons: font
:toc: macro
:toclevels: 2

toc::[]

Release Notes: Cassandra Connector Release Notes

The Anypoint(TM) Connector for Apache Cassandra connects Mule applications to an Apache Cassandra database or cluster for accessing data. Mulesoft  Cassandra connector 

MuleSoft maintains this connector under the Select support policy. 

This document describes implementation examples using Anypoint Studio, the Mule Runtime graphical user interface, and includes configuration details for using the XML Editor.


== Prerequisites

To use the Cassandra connector, you need access to the following software:

* Cassandra database or cluster
* Anypoint Studio

///
This document assumes that you are familiar with Mule, the link:/anypoint-studio/v/6/[Anypoint Studio Interface], link:/mule-fundamentals/v/6/mule-concepts[Mule flows], link:/anypoint-studio/v/6/datasense[DataSense], and link:/mule-fundamentals/v/6/global-elements[Mule Global Elements] in Mule. To increase your familiarity with Studio, consider completing one or more link:/mule-fundamentals/v/6/basic-studio-tutorial[Anypoint Studio Tutorials].
///

== To Install the Cassandra Connector

In Anypoint Studio, you install the Cassandra connector, which is shared in Exchange. In Studio, click image:exchange.png[Open Exchange] Open Exchange, find the connector, and install it using the wizard.

== To Configure the Cassandra Connector

You need to configure the following things:

* A Mule global element for Cassandra for use by all the Cassandra connectors in an application. 

* Parameters of each Cassandra connector instance in the application.

Follow these steps to configure the Cassandra connector in a Mule application:

. Click Global Elements > Create.

. In Choose Global Type, use the filter to locate and select CassandraDB: Username/Password Connection.

. In Global Element Properties for Cassandra, configure the following parameters:
+
image:config.png[Config]
+
[width="100%",cols=",",options="header"]
|===
|Parameter |Description
|*Name* |Enter a name for the configuration so it can be referenced later by the `config-ref` parameter in the flow.
|*Username* |Enter a Cassandra user name.
|*Password* |Enter the password.
|*Host* |Enter the host name or IP address of the application.
|*Port* |Enter a port number. The default port is 9042.
|*Keyspace* |Enter the Cassandra keyspace. A keyspace groups column families together.
|===
+
. Access the *Pooling Profile* tab to configure any settings relevant to managing multiple connections using a connection pool.

. Access the *Reconnection* tab to configure any settings relevant to reconnection strategies that Mule should execute if it loses its connection to Cassandra.

. Save the global connector configurations and return to the Message Flow tab in Studio.

== To Configure Cassandra Connector Properties in Studio

Follow these steps to configure the parameters of the Cassandra connector in the flow:

. Drag the Cassandra connector from the Mule palette onto the canvas, then select it to open the Properties Editor console.

. Configure these connector parameters:
+
[width="100%",cols=",",options="header"]
|===
|Field |Description |Default
|*Display Name* |Enter a unique label for the connector in your application. |Cassandra DB
|*Connector Configuration* |Connect to a global element linked to this connector. Global elements encapsulate reusable data about the connection to the target resource or service. Select the global Cassandra connector element that you just created. |--
|*Operation* |Select the action this component must perform. |--
|===

. Save your configurations.

== To Configure Cassandra Connector Properties in the XML Editor

Include the Cassandra namespaces in your configuration file:

[source,xml, linenums]
----
<mule xmlns:cassandradb="http://www.mulesoft.org/schema/mule/cassandradb"
    xmlns="http://www.mulesoft.org/schema/mule/core"
    xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:spring="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
	    http://www.springframework.org/schema/beans
	    http://www.springframework.org/schema/beans/spring-beans-current.xsd
        http://www.mulesoft.org/schema/mule/core
        http://www.mulesoft.org/schema/mule/core/current/mule.xsd
        http://www.mulesoft.org/schema/mule/cassandradb
        http://www.mulesoft.org/schema/mule/cassandradb/current/mule-cassandradb.xsd">
 
      <!-- Your flows and configuration elements -->
 
</mule>
----

Follow these steps to configure a Cassandra connector in your application:

. Create a global Cassandra configuration outside and above your flows, using this global configuration code:
+
Build your application flow, then add a Cassandra connector using one of the following operations.
+
The following table provides details on each operation:
+
[cols=",",options="header",]
|===
|Operation |Description
| link:[<cassandradb:create-keyspace>] |Creates a new keyspace.
| link:[<cassandradb:drop-keyspace>] |Drops the entire keyspace.
| link:[<cassandradb:create-table>] |Creates a table(column family) in a specific keyspace
| link:[<cassandradb:drop-table>] |Drops an entire table form the specified keyspace
| link:[<cassandradb:get-table-names-from-keyspace>] |Returns all the table names from the specified keyspace.
| link:[<cassandradb:execute-c-q-l-query>] |Executes the raw input query provided.
| link:[<cassandradb:insert>] |Executes the insert entity operation.
| link:[<cassandradb:update>] |Executes the update entity operation.
| link:[<cassandradb:delete-columns-value>] |Deletes values from an object specified by the where clause.
| link:[<cassandradb:delete-rows>] |Deletes an entire record.
| link:[<cassandradb:select>] |Executes a select query.
| link:[<cassandradb:change-column-type>] |Changes the type of a column.
| link:[<cassandradb:add-new-column>] |Adds a new column.
| link:[<cassandradb:drop-column>] |Removes a column.
| link:[<cassandradb:rename-column>] |Renames a column.
|===


== See Also

* link:/mule-user-guide/v/3.8/anypoint-connectors#connector-categories[Select support policy]
* link:/mule-fundamentals/v/6/anypoint-exchange#installing-a-connector-from-anypoint-exchange[Installing a Connector from Anypoint Exchange]
* link:/mule-fundamentals/v/6/global-elements[Mule Global Elements]