= About Before/After Scopes

As with other testing frameworks, MUnit provides certain features around the test suite concept. +
In particular, it provides a set of scopes that allow you to add processing or actions to be run before and/or after the entire MUnit Test or MUnit Suite executions:

* Before and After Suite Scopes.
* Before and After Test Scopes.

== About Before Suite Scope

The MUnit Before Suite contains code that is meant to be executed before the whole suite.

For example, suppose you have an MUnit Test Suite file with four tests. The code inside an MUnit Before Suite runs just once, before your four tests.

The MUnit Before Suite is a top level scope, so you can have as many Before Suites as you need. They all follow the same execution rule: Run before the tests, just once.

[NOTE]
--
If there is more than one Before Suite, MUnit does not guarantee the order in which the Before Suites run amongst themselves.
--

[source, xml, linenums]
.Before Suite example
----
<munit:before-suite name="before.suite" description="A description">
  <!-- some mule code here -->
</munit:before-suite >

<munit:test name="munit.test" description="Test">
  <!-- some more mule code here -->
</munit:test>
----

Note that the `before-suite` is located outside the MUnit test. +
One instance in which the MUnit Before Suite is useful is when you need to set up a test environment before the whole test runs.

When you place a before-suite in the Anypoint Studio canvas, the scope locates outside the MUnit test:

image:before-suite.png[before-suite]


== About After Suite Scope

The MUnit After Suite is a scope. It can contain code that is meant to be executed after the whole suite.

For instance, let's suppose you have an MUnit Test Suite File with four tests. The code inside an MUnit After Suite, runs just once, after all your tests.

The MUnit After Suite is a top level scope, thus you can have as many After Suites as you need.
They all follow the same execution rule: Run after the tests, just once.

[NOTE]
If there is more than one After Suite, MUnit does not guarantee the order in which the After Suites run amongst themselves.

[source, xml, linenums]
.After Suite example
----
<munit:before-suite name="before.suite" description="A description">
  <!-- some mule code here -->
</munit:before-suite >

<munit:test name="munit.test" description="Test">
  <!-- some more mule code here -->
</munit:test>

<munit:after-suite  name="after.suite" description="A description">
  <!-- some Mule code here -->
</munit:after-suite >
----

Note that the after-suite is located outside the MUnit test. +
One instance in which the MUnit After Suite is useful is when you need to set up a test environment after the whole test runs.

When you place an after-suite in the Anypoint Studio canvas, the scope locates outside the MUnit test:

image:after-suite.png[after-suite]

== About Before Test Scope

The MUnit Before Test Scope contains code that is meant to be executed before each test.

For instance, let's suppose you have an MUnit Test Suite file with four tests. The code inside an MUnit Before test runs before each of your four tests; it runs four times.

The MUnit Before Test is a top-level scope, thus you can have as many Before tests as you need. They all follow the same execution rule: Run before each test.

[NOTE]
If there is more than one Before test, MUnit does not guarantee the order in which the Before tests run amongst themselves.

[source, xml, linenums]
.Before Test example
----
<munit:before-test name="before.tests" description="A description">
  <!-- some mule code here -->
</munit:before-test>

<munit:test name="munit.test" description="Test">
  <!-- some more mule code here -->
</munit:test>
----

Note that the `before.test` is located outside the MUnit test. +
One instance in which the MUnit After Suite is useful is when you need to set up a test environment after the whole test runs.

image:before-test.png[before-test]

When you place an before-test in the Anypoint Studio canvas, the scope locates outside the MUnit test.

== About After Test Scope

The MUnit After Test Scope contains code that is meant to be executed after each test.

For instance, let's suppose you have an MUnit Test Suite file with four tests. The code inside an MUnit After Test runs after each of your four tests; it runs four times.

The MUnit After Test is a top level scope, so you can have as many After Tests as you need. +
They all follow the same execution rule: Run after each test.

[NOTE]
If there is more than one After test, MUnit does not guarantee the order in which the After Tests run amongst themselves.

[source, xml, linenums]
.After Test example
----
<munit:before-test name="before.tests" description="A description">
  <!-- some mule code here -->
</munit:before-test>

<munit:test name="munit.test" description="Test">
  <!-- some more mule code here -->
</munit:test>

<munit:after-test  name="after.test" description="A description">
  <!-- some mule code here -->
</munit:after-test>
----

Note that the `after.suite` is located outside the MUnit test. +
One instance in which the MUnit After test is useful is when you need to set up a test environment after the whole test runs.

image:after-test.png[after-test]

When you place an after-suite in the Anypoint Studio canvas, the scope locates outside the MUnit test.

== See Also

** link:/munit/v/2.0/munit-suite[About Test Suite]
*** link:/munit/v/2.0/before-after-scopes-reference[Before/After Scopes Reference]
