= Kafka Connector Reference

[%header,cols="30a,70a"]
|===
| Field | Description
|Name | The name for this configuration. Connectors reference the configuration with this name.

Type: String +
Default: None +
Required: Yes
| Connection | The connection types that can be provided to this configuration.

Type: Consumer Connection Type +
Default: None +
Required: Yes
| Expiration Policy | Configures the minimum amount of time that a dynamic configuration instance can remain idle before the runtime considers it eligible for expiration. This does not mean that the platform expires the instance at the exact moment that it becomes eligible. The runtime purges the instances when it sees it fit.

Type: ExpirationPolicy +
Default: None +
Required: No
|===

== Consumer Connection Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Consumer Partitions | The number of partitions to be used for the consumer.

Type: Number +
Default: 1 +
Required: No
| Bootstrap Servers | Comma-separated host-port pairs used for establishing the initial connection to the Kafka cluster. This is the same as the bootstrap.servers value you must provide to Kafka producer and consumer clients. If this property is provided with producer and consumer properties files, this value is ignored and the one from the properties file is used.

Type: String +
Default: None +
Required: Yes
| Key Password |

Type: String +
Default: None +
Required: No
| Key Store Type |

Type: String +
Default: JKS +
Required: No
| Key Store Password |

Type: String +
Default: None +
Required: No
| Key Store Location |

Type: String +
Default: None +
Required: No
| Trust Store Type |

Type: String +
Default: JKS +
Required: No
| Trust Store Password |

Type: String +
Default: None +
Required: Yes
| Trust Store Location |

Type: String +
Default: None +
Required: Yes
| Group Id |

Type: String +
Default: None +
Required: Yes
| Security Protocol |

Type: String +
Default: SSL +
Required: No
| Additional Properties |

Type: Object +
Default: None +
Required: No
| Reconnection | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy.

Type: Reconnection +
Default: None +
Required: No
|===

=== Associated Sources

* Consumer


=== Consumer Configuration


[%header,cols="30a,70a"]
|===
| Field | Description
|Name | The name for this configuration. Connectors reference the configuration with this name.

Type: String +
Default: None +
Required: Yes
| Connection | The connection types that can be provided to this configuration.

Type: Producer Connection Type +
Default: None +
Required: Yes
| Expiration Policy |  Configures the minimum amount of time that a dynamic configuration instance can remain idle before the runtime considers it eligible for expiration. This does not mean that the platform expires the instance at the exact moment that it becomes eligible. The runtime purges the instances when it sees it fit.

Type: ExpirationPolicy +
Default: None +
Required: No
|===

== Producer Connection Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Bootstrap Servers |  Comma-separated host-port pairs used for establishing the initial connection to the Kafka cluster. This is the same as the bootstrap.servers value you must provide to the Kafka producer and consumer clients. If this property is provided with producer and consumer properties files, this value is ignored and the value from the properties file is used.

Type: String +
Default: None +
Required: Yes
| Key Password |

Type: String +
Default: None +
Required: No
| Key Store Type |

Type: String +
Default: JKS +
Required: No
| Key Store Password |

Type: String +
Default: None +
Required: No
| Key Store Location |

Type: String +
Default: None +
Required: No
| Trust Store Type |

Type: String +
Default: JKS +
Required: No
| Trust Store Password |

Type: String +
Default: None +
Required: Yes
| Trust Store Location |

Type: String +
Default: None +
Required: Yes
| Group Id |

Type: String +
Default: None +
Required: Yes
| Security Protocol |

Type: Object +
Default: SSL +
Required: No
| Additional Properties |

Type: Object +
Default: None +
Required: No
| Reconnection | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy.

Type: Reconnection +
Default: None +
Required: Yes
|===

=== Associated Operations

* producer



== Producer Operation

`<kafka:producer>`

Operation that facilitates Kafka messages sending into the given topic.


[%header,cols="30a,70a"]
|===
| Field | Description
| Configuration | The name of the configuration to use.

Type: String +
Default: None +
Required: Yes
| Topic | Topic to send the message to.

Type: String +
Default: None +
Required: Yes
| Key | Key belonging to the message that is going to be sent.

Type: String +
Default: None +
Required: Yes
| Message | Message to be sent.

Type: String +
Default: `#[payload]` +
Required: No
| Reconnection Strategy | A retry strategy in case of connectivity errors.

Type: Reconnect, Reconnect Forever +
Default: None +
Required: No
|===


=== For Configurations

* kafka-producer-config

==== Throws

* KAFKA:CONNECTIVITY
* KAFKA:RETRY_EXHAUSTED
* KAFKA:UNKNOWN

== Sources


=== Consumer

`<kafka:consumer>`


Operation that facilitates Kafka message consumption from a given topic.


[%header,cols="30a,70a"]
|===
| Field | Description
| Configuration | The name of the configuration to use.

Type: String +
Default: None +
Required: Yes
| Topic | Name of Kafka topic to consume messages from.

Type: String +
Default: None +
Required: Yes
| Redelivery Policy | Defines a policy for processing the redelivery of the same message.

Type: RedeliveryPolicy +
Default: None +
Required: No
| Streaming Strategy | Configure if repeatable streams should be used and their behavior.

Type: 

* repeatable-in-memory-stream
* repeatable-file-store-stream
* non-repeatable-stream 

Default: None +
Required: No
| Reconnection Strategy | A retry strategy in case of connectivity errors.

Type: Reconnect, Reconnect Forever +
Default: None +
Required: No
|===

=== Output

[cols="50a,50a"]
|===
| Type | String
| Attributes Type | Any
|===

=== For Configurations

* kafka-consumer-config

== Reconnection Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Fails Deployment | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy.

Type: Boolean +
Default: None +
Required: No
| Reconnection Strategy | The reconnection strategy to use.

Type: Reconnect, Reconnect Forever +
Default: None +
Required: No
|===


=== Reconnect

[%header,cols="30a,70a"]
|===
| Field | Description
| Frequency | How often (in milliseconds) to reconnect.

Type: Number +
Default: None +
Required: No
| Count | How many reconnection attempts to make. 

Type: Number +
Default: None +
Required: No
|===

=== Reconnect Forever

[%header,cols="30a,70a"]
|===
| Field | Description
| Frequency | How often (in milliseconds) to reconnect.

Type: Number +
Default: None +
Required: No
|===


== Expiration Policy Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Max Idle Time | A scalar time value for the maximum amount of time a dynamic configuration instance should be allowed to be idle before it's considered eligible for expiration.

Type: Number +
Default: None +
Required: No
| Time Unit  | A time unit that qualifies the maxIdleTime attribute.

Possible values:

* NANOSECONDS
* MICROSECONDS
* MILLISECONDS
* SECONDS
* MINUTES
* HOURS
* DAYS

Type: Enumeration +
Default: None +
Required: No
|===


== Redelivery Policy Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Max Redelivery Count | The maximum number of times a message can be redelivered and processed unsuccessfully before triggering process-failed-message.

Type: Number +
Default: None +
Required: No
| Use Secure Hash | Whether to use a secure hash algorithm to identify a redelivered message.

Type: Boolean +
Default: None +
Required: No
| Message Digest Algorithm | The secure hashing algorithm to use. If not set, the default is SHA-256. 

Type: String +
Default: SHA-256 +
Required: No
| Id Expression | Defines one or more expressions to use to determine when a message has been redelivered. This property may only be set if useSecureHash is false.

Type: String +
Default: None +
Required: No
| Object Store | The object store where the redelivery counter for each message is going to be stored. 

Type: ObjectStore +
Default: None +
Required: No
|===


== Repeatable In Memory Stream Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Initial Buffer Size | This is the amount of memory toe allocate to consume the stream and provide random access to it. If the stream contains more data than can fit into this buffer, then it expands  according to the bufferSizeIncrement attribute, with an upper limit of maxInMemorySize.

Type: Number +
Default: None +
Required: No
| Buffer Size Increment | This is by how much the buffer size can expand if it exceeds its initial size. Setting a value of zero or lower means that the buffer should not expand and that a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised when the buffer gets full.

Type: Number +
Default: None +
Required: No
| Max Buffer Size | The maximum amount of memory to use. If more than that is used, then a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised. A value lower or equal to zero means no limit.

Type: Number +
Default: None +
Required: No
| Buffer Unit | The unit in which all these attributes are expressed.

Possible values:

* BYTE
* KB
* MB
* GB

Type: Enumeration +
Default: None +
Required: No
|===


== Repeatable File Store Stream Type

[%header,cols="30a,70a"]
|===
| Field | Description
| Max In Memory Size | Defines the maximum memory that the stream should use to keep data in memory. If more than that is consumed, it starts to buffer the content on disk.

Type: Number +
Default: None +
Required: No
| Buffer Unit | The unit in which maxInMemorySize is expressed.

Possible values:

* BYTE
* KB
* MB
* GB

Type: Enumeration +
Default: None +
Required: No
|===

