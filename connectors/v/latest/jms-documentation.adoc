:toc:               left
:toc-title:         JMS Connector
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= JMS Connector Documentation Reference



== Configurations
---
[[config]]
=== Config

+++
Base configuration for JmsExtension
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Encoding a| String |  +++The encoding of the Message body to consume if the message doesn't communicate it+++ |  | {nbsp}
| Content Type a| String |  +++The default content type of the Message body to consume if the message doesn't communicate it+++ |  +++*/*+++ | {nbsp}
| Consumer Config a| <<JmsConsumerConfig>> |  +++Configuration parameters for consuming Messages from a JMS Queue or Topic+++ |  | {nbsp}
| Producer Config a| <<JmsProducerConfig>> |  +++Configuration parameters for sending Messages to a JMS Queue or Topic+++ |  | {nbsp}
|======================


==== Associated Operations
* <<consume>> {nbsp}
* <<publish>> {nbsp}
* <<publishConsume>> {nbsp}

==== Associated Sources
* <<listener>> {nbsp}


== Operations

[[consume]]
=== Consume
`<http://www.mulesoft.org/schema/mule/jms:consume>`

+++
Operation that allows the user to consume a single Message from a given Destination.
extra configurations that are required based on the destination type.
and headers as Result#getAttributes
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination from where the Message should be consumed+++ |  | *x*{nbsp}
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> |  +++the type of the MessageConsumer that is required for the given destination, along with any+++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  +++the AckMode that will be configured over the Message and Session+++ |  | {nbsp}
| Selector a| String |  +++a custom JMS selector for filtering the messages+++ |  | {nbsp}
| Content Type a| String |  +++the Message's content content type+++ |  | {nbsp}
| Encoding a| String |  +++the Message's content encoding+++ |  | {nbsp}
| Maximum Wait a| Number |  +++maximum time to wait for a message before timing out+++ |  +++10000+++ | {nbsp}
| Maximum Wait Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the maximumWaitTime configurations+++ |  +++MILLISECONDS+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:CONSUMING {nbsp}
* JMS:ACK {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}
* JMS:TIMEOUT {nbsp}


[[publish]]
=== Publish
`<http://www.mulesoft.org/schema/mule/jms:publish>`

+++
Operation that allows the user to send a Message to a JMS Destination
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination where the Message should be sent+++ |  | *x*{nbsp}
| Destination Type a| Enumeration, one of:

** QUEUE
** TOPIC |  +++The type of the Destination+++ |  +++QUEUE+++ | {nbsp}
| Message Builder a| <<MessageBuilder>> |  +++the MessageBuilder  used to create the Message to be sent+++ |  | {nbsp}
| Persistent Delivery a| Boolean |  +++If true; the Message will be sent using the PERSISTENT JMSDeliveryMode+++ |  | {nbsp}
| Priority a| Number |  +++The default JMSPriority value to be used when sending the message+++ |  | {nbsp}
| Time To Live a| Number |  +++Defines the default time the message will be in the broker before it expires and is discarded+++ |  | {nbsp}
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the timeToLive configurations+++ |  | {nbsp}
| Disable Message Id a| Boolean |  +++If true; the Message will be flagged to avoid generating its MessageID+++ |  | {nbsp}
| Disable Message Timestamp a| Boolean |  +++If true; the Message will be flagged to avoid generating its sent Timestamp+++ |  | {nbsp}
| Delivery Delay a| Number |  +++Only used by JMS 2.0. Sets the delivery delay to be applied in order to postpone the Message delivery+++ |  | {nbsp}
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the deliveryDelay configurations+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:PUBLISHING {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:ILLEGAL_BODY {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}


[[publishConsume]]
=== Publish Consume
`<http://www.mulesoft.org/schema/mule/jms:publish-consume>`

+++
Operation that allows the user to send a message to a JMS Destination and waits for a response
either to the provided ReplyTo destination or to a temporary Destination created dynamically
and headers as Result#getAttributes
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination where the Message should be sent+++ |  | *x*{nbsp}
| Message Builder a| <<MessageBuilder>> |  +++the MessageBuilder used to create the Message to be sent+++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  +++the AckMode that will be configured over the Message and Session+++ |  | {nbsp}
| Maximum Wait a| Number |  +++Maximum time to wait for a response before timeout+++ |  +++10000+++ | {nbsp}
| Maximum Wait Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the maximumWaitTime configuration+++ |  +++MILLISECONDS+++ | {nbsp}
| Content Type a| String |  +++The content type of the consumed message body+++ |  | {nbsp}
| Encoding a| String |  +++The encoding of the consumed message body+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Persistent Delivery a| Boolean |  +++If true; the Message will be sent using the PERSISTENT JMSDeliveryMode+++ |  | {nbsp}
| Priority a| Number |  +++The default JMSPriority value to be used when sending the message+++ |  | {nbsp}
| Time To Live a| Number |  +++Defines the default time the message will be in the broker before it expires and is discarded+++ |  | {nbsp}
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the timeToLive configurations+++ |  | {nbsp}
| Disable Message Id a| Boolean |  +++If true; the Message will be flagged to avoid generating its MessageID+++ |  | {nbsp}
| Disable Message Timestamp a| Boolean |  +++If true; the Message will be flagged to avoid generating its sent Timestamp+++ |  | {nbsp}
| Delivery Delay a| Number |  +++Only used by JMS 2.0. Sets the delivery delay to be applied in order to postpone the Message delivery+++ |  | {nbsp}
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the deliveryDelay configurations+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:PUBLISHING {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:CONSUMING {nbsp}
* JMS:ILLEGAL_BODY {nbsp}
* JMS:ACK {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}
* JMS:TIMEOUT {nbsp}


== Sources

[[listener]]
=== Listener
`<http://www.mulesoft.org/schema/mule/jms:listener>`

+++
JMS Subscriber for Destinations, allows to listen
for incoming Messages
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++The name of the Destination from where the Message should be consumed+++ |  | *x*{nbsp}
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> |  +++The Type of the Consumer that should be used for the provided destination+++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  +++The Session ACK mode to use when consuming a message+++ |  | {nbsp}
| Selector a| String |  +++JMS selector to be used for filtering incoming messages+++ |  | {nbsp}
| Content Type a| String |  +++The content type of the message body+++ |  | {nbsp}
| Encoding a| String |  +++The encoding of the message body+++ |  | {nbsp}
| Synchronous a| Boolean |  +++This makes the message listener to work synchronously, only one message at a time will be consumed, delivered
and waited to be processed in the flow.+++ |  +++true+++ | {nbsp}
| Number Of Consumers a| Number |  +++The number of concurrent consumers that will be used to receive JMS Messages+++ |  +++4+++ | {nbsp}
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Response a| <<response-builder>> |  |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}



== Types
[[JmsConsumerConfig]]
=== Jms Consumer Config

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED | AUTO
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> | 
| Selector a| String | 
| Max Redelivery a| Number | 0
|======================
    
[[JmsProducerConfig]]
=== Jms Producer Config

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Persistent Delivery a| Boolean | true
| Priority a| Number | 4
| Time To Live a| Number | 0
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | MILLISECONDS
| Disable Message Id a| Boolean | false
| Disable Message Timestamp a| Boolean | false
| Delivery Delay a| Number | 
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | MILLISECONDS
| Jms Type a| String | 
|======================
    
[[RedeliveryPolicy]]
=== Redelivery Policy

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max Redelivery Count a| Number | 
| Use Secure Hash a| Boolean | 
| Message Digest Algorithm a| String | 
| Id Expression a| String | 
| Object Store Ref a| String | 
|======================
    
[[reconnect]]
=== Reconnect

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 
| Count a| Number | 
| Blocking a| Boolean | 
|======================
    
[[reconnect-forever]]
=== Reconnect Forever

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 
|======================
    
[[response-builder]]
=== Response Builder

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Message Builder a| <<MessageBuilder>> | 
| Overrides a| <<JmsPublishParameters>> | 
|======================
    
[[MessageBuilder]]
=== Message Builder

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Body a| Any | #[payload]
| Jms Type a| String | 
| Correlation Id a| String | 
| Send Content Type a| Boolean | true
| Content Type a| String | 
| Send Encoding a| Boolean | true
| Encoding a| String | 
| Reply To a| <<JmsDestination>> | 
| Properties a| Object | 
| Jmsx Properties a| <<JmsxProperties>> | 
|======================
    
[[JmsDestination]]
=== Jms Destination

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Destination a| String | 
| Destination Type a| Enumeration, one of:

** QUEUE
** TOPIC | QUEUE
|======================
    
[[JmsxProperties]]
=== Jmsx Properties

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Jmsx User ID a| String | 
| Jmsx App ID a| String | 
| Jmsx Delivery Count a| Number | 
| Jmsx Group ID a| String | 
| Jmsx Group Seq a| Number | 
| Jmsx Producer TXID a| String | 
| Jmsx Consumer TXID a| String | 
| Jmsx Rcv Timestamp a| Number | 
|======================
    
[[JmsPublishParameters]]
=== Jms Publish Parameters

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Persistent Delivery a| Boolean | 
| Priority a| Number | 
| Time To Live a| Number | 
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
| Disable Message Id a| Boolean | 
| Disable Message Timestamp a| Boolean | 
| Delivery Delay a| Number | 
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
|======================
    
[[PoolingProfile]]
=== Pooling Profile

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max Active a| Number | 
| Max Idle a| Number | 
| Max Wait a| Number | 
| Min Eviction Millis a| Number | 
| Eviction Check Interval Millis a| Number | 
| Exhausted Action a| Enumeration, one of:

** WHEN_EXHAUSTED_GROW
** WHEN_EXHAUSTED_WAIT
** WHEN_EXHAUSTED_FAIL | 
| Initialisation Policy a| Enumeration, one of:

** INITIALISE_NONE
** INITIALISE_ONE
** INITIALISE_ALL | 
| Disabled a| Boolean | 
|======================
    
[[ActiveMQConnectionFactoryConfiguration]]
=== Active MQ Connection Factory Configuration

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Broker Url a| String | vm://localhost?broker.persistent=false&broker.useJmx=false
| Enable Xa a| Boolean | false
| Initial Redelivery Delay a| Number | 1000
| Redelivery Delay a| Number | 1000
| Max Redelivery a| Number | 0
|======================
    
[[queue-consumer]]
=== Queue Consumer

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Topic a| Boolean | 
|======================
    
[[topic-consumer]]
=== Topic Consumer

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Is Durable a| Boolean | false
| Is Shared a| Boolean | false
| No Local a| Boolean | false
| Subscription Name a| String | 
|======================
    
[[default-caching]]
=== Default Caching

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Session Cache Size a| Number | 1
| Cache Producers a| Boolean | true
| Cache Consumers a| Boolean | true
|======================
    
[[JndiConnectionFactory]]
=== Jndi Connection Factory

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Connection Factory Jndi Name a| String | 
| Lookup Destination a| Enumeration, one of:

** NEVER
** ALWAYS
** TRY_ALWAYS | NEVER
| Name Resolver Provider a| <<JndiNameResolverProvider>> | 
|======================
    
[[JndiNameResolverProvider]]
=== Jndi Name Resolver Provider

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Custom Jndi Name Resolver a| One of:

* <<SimpleJndiNameResolver>>
* <<CachedJndiNameResolver>> | 
| Name Resolver Builder a| <<JndiNameResolverProperties>> | 
|======================
    
[[JndiNameResolverProperties]]
=== Jndi Name Resolver Properties

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Jndi Initial Context Factory a| String | 
| Jndi Provider Url a| String | 
| Provider Properties a| Object | 
|======================
    
[[SimpleJndiNameResolver]]
=== Simple Jndi Name Resolver

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Context Factory a| Any | 
| Jndi Initial Factory a| String | 
| Jndi Provider Properties a| Object | 
| Jndi Provider Url a| String | 
|======================
    
[[CachedJndiNameResolver]]
=== Cached Jndi Name Resolver

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Context Factory a| Any | 
| Jndi Initial Factory a| String | 
| Jndi Provider Properties a| Object | 
| Jndi Provider Url a| String | 
|======================
    


