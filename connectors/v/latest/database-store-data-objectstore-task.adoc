= Store Data in the Object Store

In this procedure, you create an array of order numbers and store it in a global variable named ordernum. You set the lastOrder number to the primary key of the last row you inserted into the database. On the next iteration of the flow, any rows in the Classic Models database having primary keys higher than the last row, and therefore not already inserted, are inserted into the New Orders database.

. Click + next to Database using the DatabaseToSync configuration, select ObjectStore, and select the Store operation.
. In ObjectStore - Store, enter the following key: *lastOrder*
. In value, type *max(ordernum)*, and click Map.
. On the Script tab, enter the following DataWeave code:
----
%dw 2.0

//DataWeave code to store the max orderNumber

//Create an array of order numbers and store the array in a global variable named ordernum

var ordernum = payload.orderNumber

output application/java
---
max(ordernum)
----