:toc:               left
:toc-title:         Object Store Connector
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= Object Store Connector Technical Documentation

+++
Object Store Extension
+++


== Configurations
---
[[config]]
=== Config

+++
Generic module for accessing Object Stores.
<p>
This can be used with Mule default implementations or one can be passed via ref. It allows to store, retrieve and remove objects from the store.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Partition a| String |  ++++++ |  | {nbsp}
| Persistent a| Boolean |  ++++++ |  +++false+++ | {nbsp}
| Object Store a| <<ObjectStore>> |  ++++++ |  | {nbsp}
| Entry Ttl a| Number |  ++++++ |  | {nbsp}
| Max Entries a| Number |  ++++++ |  | {nbsp}
| Expiration Interval a| Number |  ++++++ |  | {nbsp}
|======================


==== Associated Operations
* <<contains>> {nbsp}
* <<disposeStore>> {nbsp}
* <<dualStore>> {nbsp}
* <<remove>> {nbsp}
* <<retrieve>> {nbsp}
* <<retrieveAllKeys>> {nbsp}
* <<retrieveAndStore>> {nbsp}
* <<store>> {nbsp}



== Operations

[[contains]]
=== Contains
`<objectstoren:contains>`

+++
Checks whether the object store contains the given key.
The identifier of the object to validate.
if the provided key is null.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Boolean
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[disposeStore]]
=== Dispose Store
`<objectstoren:dispose-store>`

+++
Removes a given partition without disposing the entirely Object Store. Whether using a persistent store or not, internally, this operation performs a clear() of the items,
so a user should still be able perform other operations. For persistent stores, this operation only deletes the contents of the folder but not the folder itself.
The name of the object store.
If the object store could not be cleared or the partition name is invalid.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Partition Name a| String |  ++++++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[dualStore]]
=== Dual Store
`<objectstoren:dual-store>`

+++
Stores a value using key and also stores a key using value. If an exception is thrown rolls back both operations. This allows an option to indicate if key would be
overwritten or not.
True if you want to overwrite the existing object.
The identifier of the object to store.
The object to store. If you want this to be the payload then use value-ref="#[payload]".
if the given key cannot be stored or is <code>null</code>.
if the store is not available or any other implementation-specific error occurred.
if an attempt is made to store an object for a key that already has an object associated. Only thrown if overwrite is false.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Value a| Any |  ++++++ |  | *x*{nbsp}
| Overwrite a| Boolean |  ++++++ |  +++false+++ | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[remove]]
=== Remove
`<objectstoren:remove>`

+++
Remove the object for the respective key. This operation can fail silently based on the value passed in ignoreNotExists.
Indicates if the operation will ignore NotExistsException from ObjectStore.
The identifier of the object to remove.
if the given key is <code>null</code> or if the store is not available or any other implementation-specific error occurred.
if no value for the given key was previously stored.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Ignore if key does not exist a| Boolean |  ++++++ |  +++false+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[retrieve]]
=== Retrieve
`<objectstoren:retrieve>`

+++
Retrieve an object from the object store and make it available in the specified property scope of a Mule Message.
The identifier of the object to retrieve.
The default value if the key does not exist.
if the given key is <code>null</code>.
if the store is not available or any other implementation-specific error occurred.
if no value for the given key was previously stored.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Default Value a| Any |  ++++++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[retrieveAllKeys]]
=== Retrieve All Keys
`<objectstoren:retrieve-all-keys>`

+++
Returns a list of all the keys in the object store.
<p>
<i><b>IMPORTANT:</b> Not all stores support this method. If the method is not supported a java.lang.UnsupportedOperationException is thrown</i>
if an exception occurred while collecting the list of all keys.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of String
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[retrieveAndStore]]
=== Retrieve And Store
`<objectstoren:retrieve-and-store>`

+++
Retrieve and Store in the same operation.
The identifier of the object to retrieve.
The default value if the key does not exist.
The object to store. If you want this to be the payload then use value-ref="#[payload]".
if the given key is <code>null</code>.
if the store is not available or any other implementation-specific error occurred.
if no value for the given key was previously stored.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Default Value a| Any |  ++++++ |  | {nbsp}
| Store Value a| Any |  ++++++ |  | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}


[[store]]
=== Store
`<objectstoren:store>`

+++
Stores an object in the object store. This allows an option to indicate if key would be overwritten or not.
True if you want to overwrite the existing object.
The identifier of the object to store.
The object to store. If you want this to be the payload then use value-ref="#[payload]".
if the given key cannot be stored or is <code>null</code>.
if the store is not available or any other implementation-specific error occurred.
if an attempt is made to store an object for a key that already has an object associated. Only thrown if overwrite is false.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Key a| String |  ++++++ |  | *x*{nbsp}
| Value a| Any |  ++++++ |  | *x*{nbsp}
| Overwrite a| Boolean |  ++++++ |  +++false+++ | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* OBJECTSTOREN:DOES_NOT_EXIST {nbsp}
* OBJECTSTOREN:UNKNOWN {nbsp}
* OBJECTSTOREN:CONNECTIVITY {nbsp}
* OBJECTSTOREN:ALREADY_EXISTS {nbsp}
* OBJECTSTOREN:NOT_AVAILABLE {nbsp}
